define("modules/team_bis/team-results",["jquery-full","helpers/helpers","objects/objects"],function(e,t,n){var r={elements:{loader:new n.loader},labels:{},options:{EVENT_ID:0,ON_REQUEST:!1},initialize:function(){this.initializeElement(),this.sortEventResultList(),this.sortSeasonResultList(),this.setStyleNextMatch(),this.seeNextSeeAllAction(),this.updateSeeNextButton()},initializeElement:function(){this.elements.seeButton=e(".teamresults__seenext"),this.elements.seeButtonContent=e(".teamresults__seenext-content p"),this.elements.dropdownEventElement="#teamresult-event-list",this.elements.dropdownEventElementli="#teamresult-event-list li",this.elements.dropdownSeasonElement="#teamresult-season-list",this.elements.dropdownSeasonElementli="#teamresult-season-list li",this.labels.nextmatch=e(".teamresults__resultlist > ul").data("label-next-match"),this.options.ajaxUrl=e("#teamcenter-results").data("ajax-url")},setStyleNextMatch:function(){e(".teamresults__resultlist .teamresults__resultlist-next-match").length>0&&e(".teamresults__container .teamresults__resultlist-next-match").first().addClass("first").prepend('<div class="title-next-match">'+this.labels.nextmatch+"</div>")},updateSeeNextButton:function(){e(".teamresults__resultlist .teamresults__resultlist-next-match").length>0?this.elements.seeButton.slideDown():this.elements.seeButton.slideUp()},seeNextSeeAllAction:function(){var t=this;this.elements.seeButton.on("click",function(){if(e(".teamresults__resultlist .teamresults__resultlist-next-match:visible").length>0){var t=e(".teamresults__resultlist .teamresults__resultlist-next-match.first").offset(),n=t.top;e("html, body").stop().animate({scrollTop:n})}})},sortEventResultList:function(){var t=this,n=null;e(document).off("mousedown touchstart",this.elements.dropdownEventElementli).on("mousedown touchstart",this.elements.dropdownEventElementli,function(){n=e(this).attr("class"),t.options.EVENT_ID=e(this).data("recurringevent-id")}),e(document).off("change",this.elements.dropdownEventElement).on("change",this.elements.dropdownEventElement,function(){if(n!="selected"){var r=e(this).find(".selected").data("recurringevent-id"),i=t.options.ajaxUrl+"&revid="+r;t.loadSeasonByEvent(i)}})},sortSeasonResultList:function(){var t=this,n=null;e(document).off("mousedown touchstart",this.elements.dropdownSeasonElementli).on("mousedown touchstart",this.elements.dropdownSeasonElementli,function(){n=e(this).attr("class")}),e(document).off("change",this.elements.dropdownSeasonElement).on("change",this.elements.dropdownSeasonElement,function(){if(n!="selected"){var r=e(t.elements.dropdownEventElement).find(".selected").data("recurringevent-id"),i=e(this).find(".selected").data("season-id"),s=t.options.ajaxUrl+"&seasonid="+i+"&revid="+r;t.loadSeasonByEvent(s,!0)}})},loadSeasonByEvent:function(n,r){r=r||!1;if(!this.options.ON_REQUEST){this.options.ON_REQUEST=!0;var i=this,s=e(".teamresults__resultlist"),o=e(".teamresults__content-title"),u=o.find("#teamresult-event-list ul li.selected").data("recurringevent-id"),a=o.find("#teamresult-season-list ul li.selected").data("season-id");i.elements.loader.append(s,!0),e.ajax({url:n,type:"GET",dataType:"html",success:function(t){var t=e(t).children();s.html(t);var n=s.find("#event-list-appended").html();o.find(".teamresults__selectbox").remove(),o.append(n),s.find("#event-list-appended").remove(),i.elements.loader.detach()},error:function(){console.log("error"),i.elements.loader.detach(!1)}}).done(function(){e(".custom-dropdown").length>=0&&(i.resetDropdownEventValue(u,a,r),t.dropdowns.reflow(),i.sortEventResultList()),i.sortByEvent(u,!0),i.options.ON_REQUEST=!1})}},resetDropdownEventValue:function(t,n,r){e(".teamresults__selectbox .custom-dropdown li").removeClass("selected"),e('#teamresult-event-list li[data-recurringevent-id="'+t+'"]').first().addClass("selected"),r&&e('#teamresult-season-list li[data-season-id="'+n+'"]').first().addClass("selected")},initializeAfterDisplay:function(){this.setStyleNextMatch(),this.updateSeeNextButton()},sortByEvent:function(t,n){var n=n||!1,r=this,i=".teamresults__resultlist .scoreboard-match-score",s='.teamresults__resultlist .scoreboard-match-score[data-event-id="'+t+'"]';t>0?n?(e(i).not(s).closest("li").removeClass("selected").hide(),e(s).closest("li").addClass("selected").show()):(e(i).not(s).closest("li").removeClass("selected").slideUp(),e(s).closest("li").addClass("selected").slideDown()):n?e(i).closest("li").addClass("selected").show():e(i).closest("li").addClass("selected").slideDown(),this.initializeAfterDisplay()}},i={initialize:function(){r.initialize()}};return i}),define("modules/team_bis/team-stats",["jquery-full","helpers/helpers","objects/objects"],function(e,t,n){var r={elements:{loader:new n.loader},options:{ON_REQUEST:!1},initialize:function(){this.initializeElements(),this.displayStats_NEW(),this.activeFirstStats(),this.dropdownEvent(),this.reflowNavTabs()},displayStats_NEW:function(){var t=this;e(".teamstats__nav ul li").on("click",function(){e(this).hasClass("active")||(e(".teamstats__nav ul li").removeClass("active"),e(this).addClass("active"),e(".teamstats__content-titlestats").text(e(this).text()),t.searchStatsOnTeam(e(this).data("stats-id")),t.sortItems(),t.updateLine())})},sortItems:function(){var t=e(".teamstats__data-stats");t.sort(function(t,n){return+e(n).find(".teamstats__data-value").text()- +e(t).find(".teamstats__data-value").text()}).appendTo(e(".teamstats__content-stats"))},reflowNavTabs:function(){t.navTabs.reflow()},initializeAfterAjax:function(){this.initializeElements(),this.displayStats_NEW(),this.activeFirstStats()},initializeElements:function(){this.elements.navStatsElem=e(".teamstats__nav ul li"),this.elements.teamLists=e(".teamstats__content .teamstats__data-stats"),this.elements.teamListsStats=e(".teamstats__content .teamstats__data-stats[data-stats-obj]"),this.elements.tableStats=e("#table-sortable"),this.elements.dropdownElems=e(".teamstats__container .perso-dropdown li"),this.options.ajaxUrl=e("#teamcenter-stats").data("ajax-url")},activeFirstStats:function(){e(".teamstats__nav ul li").first().trigger("click")},searchStatsOnTeam:function(t){e(".teamstats__content .teamstats__data-stats[data-stats-obj]").each(function(){var n=e(this),r=n.data("stats-obj");r[t]?n.find(".teamstats__data-value").text(r[t]):n.find(".teamstats__data-value").text(0)})},updateLine:function(){var t=this,n=+e(".teamstats__content .teamstats__data-stats:first-of-type").find(".teamstats__data-value").text(),r=e(".teamstats__content .teamstats__data-stats[data-stats-obj]").length;e(".teamstats__content .teamstats__data-stats").find(".teamstats__data-line .teamstats__data-percent").css({width:"0%"}),e(".teamstats__content .teamstats__data-stats[data-stats-obj]").each(function(i){var s=e(this),o=s.data("stats-obj"),u=+s.find(".teamstats__data-value").text(),a=u/n*100;i===r-1?s.find(".teamstats__data-line .teamstats__data-percent").stop().animate({width:a+"%"},function(){t.scrollToCurrentTeam()}):s.find(".teamstats__data-line .teamstats__data-percent").stop().animate({width:a+"%"})}),this.updatePosition()},updatePosition:function(){var t,n;e(".teamstats__content .teamstats__data-stats").each(function(r){var i=e(this);+i.find(".teamstats__data-value").text()===t?i.find(".teamstats__data-position").text("-"):(n=r,t=+i.find(".teamstats__data-value").text(),i.find(".teamstats__data-position").text(r+1))})},scrollToCurrentTeam:function(){if(e(".teamstats__desktop").find(".teamstats__data-stats.current").length>0){var t=e(".teamstats__desktop").find(".teamstats__data-stats.current").offset(),n=e(window).scrollTop(),r=e(window).scrollTop()+e(window).height(),i=t.top;if(i<n){var s=i-100;e("html, body").stop().animate({scrollTop:s},800)}else if(i>r){var s=i-e(window).height()+100;e("html, body").stop().animate({scrollTop:s},800)}}},dropdownEvent:function(){var t=this,n=null;e(document).off("mousedown touchstart","#teamstats-season-list li, #teamstats-event-list li").on("mousedown touchstart","#teamstats-season-list li, #teamstats-event-list li",function(){n=e(this).attr("class")}),e(document).off("change","#teamstats-season-list").on("change","#teamstats-season-list",function(){if(n!="selected"){var r=e("#teamstats-event-list").find(".selected").data("recurringevent-id"),i=e(this).find(".selected").data("season-id"),s=t.options.ajaxUrl+"&seasonid="+i+"&revid="+r;t.ajaxReloadStats(s,!0)}}),e(document).off("change","#teamstats-event-list").on("change","#teamstats-event-list",function(){if(n!="selected"){var r=e(this).find(".selected").data("recurringevent-id"),i=t.options.ajaxUrl+"&revid="+r;t.ajaxReloadStats(i)}})},ajaxReloadStats:function(n,r){r=r||!1;if(!this.options.ON_REQUEST){this.options.ON_REQUEST=!0;var i=this,s=e("#teamstats__container-ajax"),o=e(".teamstats__content-title"),u=o.find("#teamstats-event-list ul li.selected").data("recurringevent-id"),a=o.find("#teamstats-season-list ul li.selected").data("season-id");i.elements.loader.append(s,!0),e.ajax({url:n,type:"GET",dataType:"html",success:function(t){s.html(t);var n=s.find("#season-list-appended").html();o.find(".teamstats__selectbox").remove(),o.append(n);var r=e("#teamstats__container-player-ajax"),u=s.find("#teamstats__player-ajax").html();r.html(u),s.find("#teamstats__player-ajax").remove(),s.find("#season-list-appended").remove(),i.elements.loader.detach()},error:function(){console.log("error"),i.elements.loader.detach(!1)}}).done(function(){e(".custom-dropdown").length>=0&&(i.resetDropdownEventValue(u,a,r),t.dropdowns.reflow(),i.dropdownEvent()),i.initializeAfterAjax(),i.options.ON_REQUEST=!1})}},resetDropdownEventValue:function(t,n,r){e(".teamstats__selectbox .perso-dropdown li").removeClass("selected"),e('#teamstats-event-list li[data-recurringevent-id="'+t+'"]').addClass("selected"),r&&e('#teamstats-season-list li[data-season-id="'+n+'"]').addClass("selected")}},i={initialize:function(){r.initialize()}};return i}),define("modules/live/components/live.scroll.bis",["jquery-full","base/base"],function(e,t){"use strict";var n={_screenSize:null,_prevHeaderPosition:"",init:function(){this._resizeHandler=this._resizeHandler.bind(this),this._subnavigationScrollHandler=this._subnavigationScrollHandler.bind(this),this._resetSubnavigationScrollHandler=this._resetSubnavigationScrollHandler.bind(this),this._setSubnavigationWidth=this._setSubnavigationWidth.bind(this),this.$doc=t.elements.getDocument(),this.$win=t.elements.getWindow(),this.$subnavigationContainer=e(".live_match_nav_v8_5_bis, .nav_team_person_tabs_bis_v8_5"),this.$subnavigation=e("#subnavigation-nav-wrapper"),this.$border=e("#subnavigation-nav-border"),this.$subnavigationShares=this.$subnavigationContainer.find(".live-match-nav__sharing"),this.$content=e(".col-content");if(this.$subnavigationContainer.length===0||this.$subnavigation.length===0)return;t.responsive.registerMainSizeFn(this._resizeHandler)},_resizeHandler:function(t){if(this._screenSize===t.size){t.size==="desktop"&&this._setSubnavigationWidth();return}switch(t.size){case"desktop":this._setSubnavigationWidth(),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),e.subscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),e.publish("SCROLL_SUBNAVIGATION.NEW"),this.$win.off("scroll.subnavigation"),this.$win.on("scroll.subnavigation",function(){e.publish("SCROLL_SUBNAVIGATION.NEW")});break;case"tablet":this._resetSubnavigationWidth(),this.$win.off("scroll.subnavigation"),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),this._resetSubnavigationScrollHandler();break;case"mobile":this._resetSubnavigationWidth(),this.$win.off("scroll.subnavigation"),e.unsubscribe("SCROLL_SUBNAVIGATION.NEW",this._subnavigationScrollHandler),this._resetSubnavigationWidth(),this._resetSubnavigationScrollHandler()}this._screenSize=t.size},_subnavigationScrollHandler:function(){var t=this.$doc.scrollTop(),n=parseInt(this.$subnavigationContainer.offset().top),r=e("#top").height(),i=e("#top").hasClass("headerhidden")?0:r,s=e("#top").hasClass("headerhidden")?n:n-r;t>=parseInt(s)+this.$subnavigationContainer.height()?(this.$subnavigation.css({top:i+"px"}),this.$border.css({top:i+"px"}),this.$subnavigationShares.length>0&&this.$subnavigationShares.css({top:i+"px"}),this.$subnavigation.hasClass("sticky")||(this.$content.css({paddingTop:this.$subnavigation.height()+this.$subnavigationShares.height()}),this.$subnavigation.addClass("sticky"),this.$border.addClass("sticky"))):this._resetSubnavigationScrollHandler()},_resetSubnavigationScrollHandler:function(){this.$subnavigation.hasClass("sticky")&&(this.$content.css({paddingTop:""}),this.$subnavigation.css({top:""}).removeClass("sticky"),this.$border.css({top:""}).removeClass("sticky"),this.$subnavigationShares.length>0&&this.$subnavigationShares.css({top:""}),this.$subnavigationContainer.css({paddingTop:""}))},_setSubnavigationWidth:function(){this.$subnavigation.css({"min-width":this.$content.width()+"px"})},_resetSubnavigationWidth:function(){this.$subnavigation.css({"min-width":""})}},r={init:function(){n.init()}};return r}),define("modules/team_bis/team",["jquery-full","helpers/helpers","objects/objects","modules/team_bis/team-results","modules/team_bis/team-stats","modules/live/components/live.scroll.bis"],function(e,t,n,r,i,s){var o=t.navTabs,u={elemNavtab:[{elem:o.getElements("navtab_teamcenter-news"),jsTrigger:null},{elem:o.getElements("navtab_teamcenter-team"),jsTrigger:null},{elem:o.getElements("navtab_teamcenter-results"),jsTrigger:[r]},{elem:o.getElements("navtab_teamcenter-stats"),jsTrigger:[i]},{elem:o.getElements("navtab_teamcenter-info"),jsTrigger:null}],initialize:function(){this.launcher(),this.activeDefaulttab(),s.init()},launcher:function(){e.each(this.elemNavtab,function(t,n){n.jsTrigger!=null&&e.each(n.elem,function(){var e=n.jsTrigger[0];this.ajax.onAfterAjaxRequest(function(){e.initialize()})})})},activeDefaulttab:function(){var t=e("#subnavigation-nav-tabs, #teamcenter-nav");if(t.find(".has-relation.active").length===0&&t.find("li:first .has-relation").length>0){var n=o.getElements(t.find("li:first .has-relation"));n[0].activate()}}};u.initialize()}),define("team-bis",function(){});