// For license information, see `https://assets.adobedtm.com/launch-ENfafcae0a347c4298ab6405b89b7d09bf.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2019-12-04T16:22:48Z",environment:"production",turbineBuildDate:"2019-06-25T22:25:24Z",turbineVersion:"25.6.0"},dataElements:{"js - content: page type":{defaultValue:"no page type found",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.page_type"}},"js - user: user subscriber id":{storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_client_id"}},"js - content: mobile page format":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.format"}},"js - content: platform product name":{defaultValue:"no platform product name found",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product"}},"js - product: product price":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_price"}},"js - content: perimeter":{defaultValue:"web",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.perimeter"}},"js - content: service":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.service"}},"js - site: site name":{defaultValue:"no site name found",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.site"}},"js - site: site language name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.language_name"}},"js - content: content publication time":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.pub_time"}},"js - content: sport participants":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.participants"}},"js - user: user subscriber status":{storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_status"}},"js - user: user id":{storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.user_id"}},"js - content: sport event":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sport_event"}},"js - content: sport discipline":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.discipline"}},"js - user: user login status":{defaultValue:"0",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=dataLayer[0].login_status;return""===e?"0":e.toString()}}},"js - ecommerce: subscription payment type":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_payment_type"}},"js - ecommerce: subscription promo id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.promo_id"}},"custom code - page video: number of videos":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return sc_dataLayer=window.dataLayer||[{}],vi_pageVideos=dataLayer[0].page_videos||[],vi_pageVideos.length}}},"js - product: product category":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_category"}},"js - content: partner id":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.partner_code"}},"js - product: product variant":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_variant"}},"js - content: sport family":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.family"}},"custom code - video impression: video name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=[],t=window.dataLayer||[{}],a="undefined"!=typeof t[0].page_videos?t[0].page_videos:[],n=0;n<a.length;n++)"undefined"!=typeof a[n].video_title&&""!==a[n].video_title&&e.push(a[n].video_title);return e.join(",")}}},"js - ecommerce: subscription promo reference":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_promo_ref"}},"custom code - report suite id":{defaultValue:"discoverydp-eurosportglobaldev",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.dataLayer||[{}],t="undefined"!=typeof e[0].environment?e[0].environment:"",a="undefined"!=typeof e[0].site?e[0].site:"",n="undefined"!=typeof e[0].product?e[0].product:"";if("prod"==t){var r="discoverydp-eurosportglobal";if(""!==a)if("news"==n||"tv"==n)r+=",discoverydp-"+a;else if("player"==n){switch(sc_localAccount="",a){case"eurosportfo":case"eurosportgl":sc_localAccount="eurosportdk";break;case"eurosportio":case"eurosportsh":case"eurosportgi":case"eurosportgg":case"eurosportim":case"eurosportje":case"eurosportie":sc_localAccount="eurosportgb";break;case"rugbyramafr":case"eurosportpf":case"eurosporttf":case"eurosportgp":case"eurosportgf":case"eurosportmq":case"eurosportyt":case"eurosportnc":case"eurosportre":case"eurosportpm":case"eurosportwf":case"eurosportmc":case"eurosportad":sc_localAccount="eurosportfr";break;case"eurosportsm":case"eurosportva":sc_localAccount="eurosportit";break;case"eurosportli":case"eurosportat":sc_localAccount="eurosportde";break;case"eurosportlu":case"eurosportch":case"eurosportsk":case"eurosportmd":case"eurosporthr":case"eurosportba":case"eurosportme":case"eurosportsi":case"eurosportal":case"eurosportmk":case"eurosportgr":case"eurosportcy":case"eurosportua":case"eurosportge":case"eurosportam":case"eurosportby":case"eurosportkz":case"eurosportlt":case"eurosportlv":case"eurosportee":case"eurosportil":case"eurosportmt":case"eurosportaz":case"eurosportis":break;default:sc_localAccount=a}""!==sc_localAccount&&(r+=",discoverydp-"+sc_localAccount)}}return r}}},"js - content: content publication date":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.pub_date"}},"js - content: sport season":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.season"}},"js - ecommerce: subscription invoicing model":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_invoicing_model"}},"js - site: site language id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.language_id"}},"js - ecommerce: subscription order id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_order_id"}},"custom code - content: form name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){console.info("Adobe form event"),$("#submit-button.active").on("click",function(){return console.info("Adobe click form"),$(this).parent().parent().attr("id")})}}},"js - content: content id":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.content_id"}},"js - content: news channel":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.channel"}},"js - content: content is opinion":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.opinion"}},"js - product: product quantity":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_quantity"}},"js - ecommerce: subscription promo code":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_promo_code"}},"js - product: product brand":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_brand"}},"js - ecommerce: subscription promo name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.promo_name"}},"js - content: sport gender":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.gender"}},"js - content: content topic":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.topic"}},"js - video impression: video id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){for(var e=[],t=window.dataLayer||[{}],a="undefined"!=typeof t[0].page_videos?t[0].page_videos:[],n=0;n<a.length;n++)"undefined"!=typeof a[n].video_id&&""!==a[n].video_id&&e.push(a[n].video_id);return e.join(",")}}},"js - content: content author":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.author"}},"js - content: sport competition":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.competition"}},"js - ecommerce: subscription price":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_price"}},"js - site: site environment":{defaultValue:"no site environment found",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.environment"}},"js - content: page name":{defaultValue:"no page name found",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.page_name"}},"js - ecommerce: subscription duration":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_duration"}},"js - ecommerce: subscription currency code":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_currency"}},"js - ecommerce: subscription promo value":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.promo_price"}},"js - content: sport round":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.round"}},"js - product: product id":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_sku"}},"js - product: product name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.product_name"}},"js - content: partner name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.provider"}},"custom code - content: domain name":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.document.domain}}},"js - ecommerce: subscription order date":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sub_order_date"}},"js - content: sport name":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.sport"}},"js - content: content title":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"dataLayer.0.profile"}},"custom code: campaign":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=s.Util.getQueryParam("utm_campaign")||"",t=s.Util.getQueryParam("utm_medium")||"",a=s.Util.getQueryParam("utm_source")||"",n=s.Util.getQueryParam("utm_content")||"",r=s.Util.getQueryParam("utm_term")||"";if(""!=e||""!=t||""!=a||""!=n||""!=r)var i=e+":"+t+":"+a+":"+n+":"+r;return i}}}},extensions:{"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,f){"use strict";var n=a("@adobe/reactor-document"),r=a("../codeLibrary/VisitorAPI"),g=a("../../view/utils/timeUnits"),m=function(e){return e.reduce(function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e},{})},i=function(e){var t=f.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=m(t.variables||[]),n=t.doesOptInApply;n&&("boolean"==typeof n?a.doesOptInApply=n:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(a.isOptInStorageEnabled=r);var i=t.optInCookieDomain;i&&(a.optInCookieDomain=i);var o=t.optInStorageExpiry;if(o){var s=t.timeUnit;if(s&&g[s]){var c=o*g[s];a.optInStorageExpiry=c}}else!0===r&&(a.optInStorageExpiry=33696e3);var l=t.previousPermissions;l&&(a.previousPermissions=l);var u=t.preOptInApprovals;if(u)a.preOptInApprovals=u;else{var d=t.preOptInApprovalInput;d&&(a.preOptInApprovalInput=d)}var p=t.isIabContext;p&&(a.isIabContext=p);var h=e.getInstance(t.orgId,a);return f.logger.info('Created instance using orgId: "'+t.orgId+'"'),f.logger.info("Set variables: "+JSON.stringify(a)),h.getMarketingCloudVisitorID(function(e){f.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),h},o=function(t){return(f.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},s=null;_satellite.getVisitorId=function(){return s},o(n.location.pathname)?f.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):s=i(r),e.exports=s},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function t(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(a,e){(e||a&&!j.isObjectEmpty(a))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function r(e){for(var t=/^\d+$/,a=0,n=e.length;a<n;a++)if(!t.test(e[a]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var n=parseInt(e[a],10),r=parseInt(t[a],10);if(r<n)return 1;if(n<r)return-1}return 0}function a(e,t){if(e===t)return 0;var a=e.toString().split("."),n=t.toString().split(".");return r(a.concat(n))?(i(a,n),o(a,n)):NaN}function s(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function n(e,t){var a=0<arguments.length&&void 0!==e?arguments[0]:"",n=1<arguments.length&&void 0!==t?arguments[1]:function(){return!0};this.log=ue("log",a,n),this.warn=ue("warn",a,n),this.error=ue("error",a,n)}function N(e,t){var a=0<arguments.length&&void 0!==e?arguments[0]:{},n=a.isEnabled,r=a.cookieName,i=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies;return n&&r&&i?{remove:function(){i.remove(r)},get:function(){var e=i.get(r),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},i.set(r,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:Ie,set:Ie,remove:Ie}}function l(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function u(e,t){function a(e,t){var a=he(e);return a.length?a.every(function(e){return!!t[e]}):fe(t)}function n(){V(P),M(ae.COMPLETE),k(E.status,E.permissions),y.set(E.permissions,{optInCookieDomain:u,optInStorageExpiry:d}),I.execute(Ce)}function r(a){return function(e,t){if(!ge(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return M(ae.CHANGED),Object.assign(P,me(he(e),a)),t||n(),E}}var i=0<arguments.length&&void 0!==e?arguments[0]:{},o=i.doesOptInApply,s=i.previousPermissions,c=i.preOptInApprovals,l=i.isOptInStorageEnabled,u=i.optInCookieDomain,d=i.optInStorageExpiry,p=i.isIabContext,h=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies,f=Ae(s);De(f,"Invalid `previousPermissions`!"),De(c,"Invalid `preOptInApprovals`!");var g,m,_,b,v,y=N({isEnabled:!!l,cookieName:"adobeujs-optin"},{cookies:h}),E=this,k=te(E),I=se(),A=ve(f),D=ve(c),T=y.get(),S={},w=(v=T,ye(A)||v&&ye(v)?ae.COMPLETE:ae.PENDING),C=(g=D,m=A,_=T,b=me(oe,!o),o?Object.assign({},b,g,m,_):b),P=_e(C),M=function(e){return w=e},V=function(e){return C=e};E.deny=r(!1),E.approve=r(!0),E.denyAll=E.deny.bind(E,oe),E.approveAll=E.approve.bind(E,oe),E.isApproved=function(e){return a(e,E.permissions)},E.isPreApproved=function(e){return a(e,D)},E.fetchPermissions=function(e,t){var a=1<arguments.length&&void 0!==t&&arguments[1],n=a?E.on(ae.COMPLETE,e):Ie;return!o||o&&E.isComplete||c?setTimeout(e(E.permissions),0):a||I.add(Ce,function(){return e(E.permissions)}),n},E.complete=function(){E.status===ae.CHANGED&&n()},E.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Pe);S[e.name]||(S[e.name]=e).onRegister.call(e,E)},E.execute=we(S),Object.defineProperties(E,{permissions:{get:function(){return C}},status:{get:function(){return w}},Categories:{get:function(){return ne}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return E.status===ae.PENDING}},isComplete:{get:function(){return E.status===ae.COMPLETE}},__plugins:{get:function(){return Object.keys(S)}},isIabContext:{get:function(){return p}}})}function p(e,t){function a(){r=null,e.call(e,new l("The call took longer than you wanted!"))}function n(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(a,t);return n}function h(){if(window.__cmp)return window.__cmp;var e=window;if(e!==window.top){for(var i;!i;){e=e.parent;try{e.frames.__cmpLocator&&(i=e)}catch(e){}if(e===window.top)break}if(i){var o={};return window.__cmp=function(e,t,a){var n=Math.random()+"",r={__cmpCall:{command:e,parameter:t,callId:n}};o[n]=a,i.postMessage(r,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var a=t.__cmpReturn;o[a.callId]&&(o[a.callId](a.returnValue,a.success),delete o[a.callId])}},!1),window.__cmp}de.error("__cmp not found")}else de.error("__cmp not found")}function d(){var t=this;t.name="iabPlugin",t.version="0.0.1";var s=se(),c={allConsentData:null},l=function(e,t){var a=1<arguments.length&&void 0!==t?arguments[1]:{};return c[e]=a};t.fetchConsentData=function(e){var t=p(e.callback,e.timeout);n({callback:t})},t.isApproved=function(e){var i=e.callback,o=e.category,t=e.timeout;if(c.allConsentData)return i(null,d(o,c.allConsentData.vendorConsents,c.allConsentData.purposeConsents));var a=p(function(e,t){var a=1<arguments.length&&void 0!==t?arguments[1]:{},n=a.vendorConsents,r=a.purposeConsents;i(e,d(o,n,r))},t);n({category:o,callback:a})},t.onRegister=function(o){var s=Object.keys(re),e=function(e,t){var a=1<arguments.length&&void 0!==t?arguments[1]:{},n=a.purposeConsents,r=a.gdprApplies,i=a.vendorConsents;!e&&r&&i&&n&&(s.forEach(function(e){var t=d(e,i,n);o[t?"approve":"deny"](e,!0)}),o.complete())};t.fetchConsentData({callback:e})};var n=function(e){var t=e.callback;if(c.allConsentData)return t(null,c.allConsentData);s.add("FETCH_CONSENT_DATA",t);var o={};a(function(e,t){var a=0<arguments.length&&void 0!==e?arguments[0]:{},n=a.purposeConsents,r=a.gdprApplies,i=a.vendorConsents;(1<arguments.length?t:void 0)&&l("allConsentData",o={purposeConsents:n,gdprApplies:r,vendorConsents:i}),u(function(e,t){var a=0<arguments.length&&void 0!==e?arguments[0]:{};(1<arguments.length?t:void 0)&&(o.consentString=a.consentData,l("allConsentData",o)),s.execute("FETCH_CONSENT_DATA",[null,c.allConsentData])})})},u=function(e){var t=h();t&&t("getConsentData",null,e)},a=function(e){var t=Se(re),a=h();a&&a("getVendorConsents",t,e)},d=function(e,t,a){var n=1<arguments.length&&void 0!==t?arguments[1]:{},r=2<arguments.length&&void 0!==a?arguments[2]:{};return!!n[re[e]]&&ie[e].every(function(e){return r[e]})}}function f(e,t,a){var n=null==e?void 0:e[t];return void 0===n?a:n}var V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,n=1;n<arguments.length;++n)for(t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var g,m,_,b,v,O={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"}},y=O.STATE_KEYS_MAP,E=function(i){function n(){}function r(a,n){var r=this;return function(){var e=i(0,a),t={};return t[a]=e,r.setStateAndPublish(t),n(e),e}}var e=this;this.getMarketingCloudVisitorID=function(e){e=e||n;var t=this.findField(y.MCMID,e),a=r.call(this,y.MCMID,e);return void 0!==t?t:a()},this.getVisitorValues=function(t){e.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}},k=O.MESSAGES,I=O.ASYNC_API_MAP,A=O.SYNC_API_MAP,D=function(){function r(){}function i(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(k.GETSTATE),""}}function e(n){this[I[n]]=function(e){e=e||r;var t=this.findField(n,e),a=i.call(this,n,e);return void 0!==t?t:a()}}function t(e){this[A[e]]=function(){return this.findField(e,r)||{}}}Object.keys(I).forEach(e,this),Object.keys(A).forEach(t,this)},T=O.ASYNC_API_MAP,S=function(){Object.keys(T).forEach(function(t){this[T[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},j=((b=(v={exports:{}}).exports).isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},b.isValueEmpty=function(e){return""===e||b.isObjectEmpty(e)},b.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},b.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},b.isObject=function(e){return null!==e&&"object"===M(e)&&!1===Array.isArray(e)},b.defineGlobalNamespace=function(){return window.adobe=b.isObject(window.adobe)?window.adobe:{},window.adobe},b.pluck=function(a,e){return e.reduce(function(e,t){return a[t]&&(e[t]=a[t]),e},Object.create(null))},b.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},b.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t},v.exports),w=(j.isObjectEmpty,j.isValueEmpty,j.getIeVersion,j.encodeAndBuildRequest,j.isObject,j.defineGlobalNamespace,j.pluck,j.parseOptOut,j.normalizeBoolean,t),C=O.MESSAGES,P={0:"prefix",1:"orgID",2:"state"},L=function(i,o){this.parse=function(e){try{var a={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(a[P[t]]=2!==t?e:JSON.parse(e))}),a}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var a=i!==t.orgID,n=!o||e.origin!==o,r=-1===Object.keys(C).indexOf(t.prefix);return a||n||r},this.send=function(e,t,a){var n=t+"|"+i;a&&a===Object(a)&&(n+="|"+JSON.stringify(a));try{e.postMessage(n,o)}catch(i){}}},R=O.MESSAGES,x=function(e,t,a,n){function r(e){Object.assign(h,e)}function i(e){Object.assign(h.state,e),Object.assign(h.state.ALLFIELDS,e),h.callbackRegistry.executeAll(h.state)}function o(e){if(!m.isInvalid(e)){g=!1;var t=m.parse(e);h.setStateAndPublish(t.state)}}function s(e){!g&&f&&(g=!0,m.send(n,e))}function c(){r(new E(a._generateID)),h.getMarketingCloudVisitorID(),h.callbackRegistry.executeAll(h.state,!0),V.removeEventListener("message",l)}function l(e){if(!m.isInvalid(e)){var t=m.parse(e);g=!1,V.clearTimeout(h._handshakeTimeout),V.removeEventListener("message",l),r(new D(h)),V.addEventListener("message",o),h.setStateAndPublish(t.state),h.callbackRegistry.hasCallbacks()&&s(R.GETSTATE)}}function u(){f&&postMessage?(V.addEventListener("message",l),s(R.HANDSHAKE),h._handshakeTimeout=setTimeout(c,250)):c()}function d(){V.s_c_in||(V.s_c_il=[],V.s_c_in=0),h._c="Visitor",h._il=V.s_c_il,h._in=V.s_c_in,h._il[h._in]=h,V.s_c_in++}function p(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(h[e]=function(){})}Object.keys(a).forEach(e),h.getSupplementalDataID=a.getSupplementalDataID,h.isAllowed=function(){return!0}}var h=this,f=t.whitelistParentDomain;h.state={ALLFIELDS:{}},h.version=a.version,h.marketingCloudOrgID=e,h.cookieDomain=a.cookieDomain||"";var g=!(h._instanceType="child"),m=new L(e,f);h.callbackRegistry=w(),h.init=function(){d(),p(),r(new S(h)),u()},h.findField=function(e,t){if(h.state[e])return t(h.state[e]),h.state[e]},h.messageParent=s,h.setStateAndPublish=i},F=O.MESSAGES,B=O.ALL_APIS,H=O.ASYNC_API_MAP,U=O.FIELDGROUP_TO_FIELD,q=function(r,n){function i(){var n={};return Object.keys(B).forEach(function(e){var t=B[e],a=r[t]();j.isValueEmpty(a)||(n[e]=a)}),n}function o(){var a=[];return r._loading&&Object.keys(r._loading).forEach(function(e){if(r._loading[e]){var t=U[e];a.push(t)}}),a.length?a:null}function t(a){return function n(){var e=o();if(e){var t=H[e[0]];r[t](n,!0)}else a()}}function a(e,t){var a=i();n.send(e,t,a)}function s(e){l(e),a(e,F.HANDSHAKE)}function c(e){t(function(){a(e,F.PARENTSTATE)})()}function l(t){function e(e){a.call(r,e),n.send(t,F.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})}var a=r.setCustomerIDs;r.setCustomerIDs=e}return function(e){n.isInvalid(e)||(n.parse(e).prefix===F.HANDSHAKE?s:c)(e.source)}},Y=function(n,a){function r(t){return function(e){i[t]=e,++o===s&&a(i)}}var i={},o=0,s=Object.keys(n).length;Object.keys(n).forEach(function(e){var t=n[e];if(t.fn){var a=t.args||[];a.unshift(r(e)),t.fn.apply(t.context||null,a)}})},K=function(e){var t;if(!e&&V.location&&(e=V.location.hostname),t=e)if(/^[0-9.]+$/.test(t))t="";else{var a=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",n=t.split("."),r=n.length-1,i=r-1;if(1<r&&n[r].length<=2&&(2===n[r-1].length||a.indexOf(","+n[r]+",")<0)&&i--,0<i)for(t="";i<=r;)t=n[r]+(t?".":"")+t,r--}return t},z={compare:a,isLessThan:function(e,t){return a(e,t)<0},areVersionsDifferent:function(e,t){return 0!==a(e,t)},isGreaterThan:function(e,t){return 0<a(e,t)},isEqual:function(e,t){return 0===a(e,t)}},G=!!V.postMessage,W={postMessage:function(e,t,a){var n=1;t&&(G?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},receiveMessage:function(t,a){var e;try{G&&(t&&(e=function(e){if("string"==typeof a&&e.origin!==a||"[object Function]"===Object.prototype.toString.call(a)&&!1===a(e.origin))return!1;t(e)}),V.addEventListener?V[t?"addEventListener":"removeEventListener"]("message",e):V[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},$=function(e){var t,a,n="0123456789",r="",i="",o=8,s=10,c=10;if(1==e){for(n+="ABCDEF",t=0;t<16;t++)a=Math.floor(Math.random()*o),r+=n.substring(a,a+1),a=Math.floor(Math.random()*o),i+=n.substring(a,a+1),o=16;return r+"-"+i}for(t=0;t<19;t++)a=Math.floor(Math.random()*s),r+=n.substring(a,a+1),0===t&&9==a?s=3:(1==t||2==t)&&10!=s&&a<2?s=10:2<t&&(s=10),a=Math.floor(Math.random()*c),i+=n.substring(a,a+1),0===t&&9==a?c=3:(1==t||2==t)&&10!=c&&a<2?c=10:2<t&&(c=10);return r+i},Q=function(n){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(V.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new V[this.corsMetadata.corsType]},fireCORS:function(i,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void o.handleCORSError(i,null,"Response is not JSON")}catch(e){return void o.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var a=i.callback,n=V,r=0;r<a.length;r++)n=n[a[r]];n(t)}catch(e){o.handleCORSError(i,e,"Error forming callback function")}}var o=this;e&&(i.loadErrorHandler=e);try{var a=this.getCORSInstance();a.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=n.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),a.onerror=function(e){o.handleCORSError(i,e,"onerror")},a.ontimeout=function(e){o.handleCORSError(i,e,"ontimeout")},a.send(),n._log.requests.push(i.corsUrl)}catch(n){this.handleCORSError(i,n,"try-catch")}},handleCORSError:function(e,t,a){n.CORSErrors.push({corsData:e,error:t,description:a}),e.loadErrorHandler&&("ontimeout"===a?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},J={POST_MESSAGE_ENABLED:!!V.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},X=function(f,t){var r=V.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,
throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",a="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),f.loadSSL&&(t=f.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+a,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+f.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof f.dpIframeSrc&&f.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(f._subdomain||this.subdomain||(new Date).getTime())+"_"+f.idSyncContainerID,this.iframeHost=this.getIframeHost(f.dpIframeSrc),this.url=f.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:J.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(f.idSyncDisableSyncs||f.disableIdSyncs||f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies||f.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||f._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||f._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(n=r.createElement("iframe")).sandbox="allow-scripts allow-same-origin",n.title="Adobe ID Syncing iFrame",n.id=a.id,n.name=a.id+"_name",n.style.cssText="display: none; width: 0; height: 0;",n.src=a.url,a.newIframeCreated=!0,t(),r.body.appendChild(n)}function t(e){n.addEventListener("load",function(){n.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()})}this.startedAttachingIframe=!0;var a=this,n=r.getElementById(this.id);n?"IFRAME"!==n.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==n.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=n,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=n},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){n.jsonForComparison.push(e),n.jsonWaiting.push(e),n.processSyncOnPage(e)}var a,n=this;if(e===Object(e)&&e.ibs)if(a=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,i,o,s=!1;for(r=0,i=this.jsonForComparison.length;r<i;r++)if(o=this.jsonForComparison[r],a===JSON.stringify(o.ibs||[])){s=!0;break}s?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!J.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}f.idSyncDisableSyncs||f.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){n.messageSendingInterval=J.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var a=f._getField("MCAAMLH"),n=e.d_region||e.dcs_region;return a?n&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",n),parseInt(a,10)!==n&&(this.regionChanged=!0,this.timesRegionChanged++,f._setField("MCSYNCSOP",""),f._setField("MCSYNCS",""),a=n)):(a=n)&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,a,n,r;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(r=t[n]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,a,n,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)r=t[n],i=[o("ibs"),o(r.id||""),o(r.tag||""),j.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,a){var n="syncOnPage"===a,r=n?"MCSYNCSOP":"MCSYNCS";f._readVisitor();var i,o,s=f._getField(r),c=!1,l=!1,u=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);s?(i=s.split("*"),c=(o=this.pruneSyncData(i,e.id,u)).dataPresent,l=o.dataValid,c&&l||this.fireSync(n,e,t,i,r,u)):(i=[],this.fireSync(n,e,t,i,r,u))},pruneSyncData:function(e,t,a){var n,r,i,o=!1,s=!1;for(r=0;r<e.length;r++)n=e[r],i=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,a<i?s=!0:(e.splice(r,1),r--)):i<=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,a,n,u,r){var d=this;if(e){if("img"===t.tag){var i,o,s,c,l=t.url,p=f.loadSSL?"https:":"http:";for(i=0,o=l.length;i<o;i++){s=l[i],c=/^\/\//.test(s);var h=new Image;h.addEventListener("load",function(o,s,c,l){return function(){d.onPagePixels[o]=null,f._readVisitor();var e,t,a,n,r=f._getField(u),i=[];if(r)for(t=0,a=(e=r.split("*")).length;t<a;t++)(n=e[t]).match("^"+s.id+"-")||i.push(n);d.setSyncTrackingData(i,s,c,l)}}(this.onPagePixels.length,t,u,r)),h.src=(c?p:"")+s,this.onPagePixels.push(h)}}}else this.addMessage(a),this.setSyncTrackingData(n,t,u,r)},addMessage:function(e){var t=encodeURIComponent(f._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((J.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,a,n){e.push(t.id+"-"+(n+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),f._setField(a,e.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?J.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){W.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof f._subdomain&&f._subdomain.length?this.subdomain=f._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(f.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===r.readyState||"loaded"===r.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof f.idSyncIDCallResult?f.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof f.idSyncAfterIDCallResult&&f.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return f._forceSyncIDCall||!e||t-e>J.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(r.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Z={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},ee={getConfigNames:function(){return Object.keys(Z)},getConfigs:function(){return Z},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},te=function(e){var r={};return e.on=function(e,t,a){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");r.hasOwnProperty(e)||(r[e]=[]);var n=r[e].push({callback:t,context:a})-1;return function(){r[e].splice(n,1),r[e].length||delete r[e]}},e.publish=function(e){if(r.hasOwnProperty(e)){var t=[].slice.call(arguments,1);r[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},ae={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ne={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},re=(e(g={},ne.AAM,565),e(g,ne.ECID,565),g),ie=(e(m={},ne.AAM,[1,2,5]),e(m,ne.ECID,[1,2,5]),m),oe=(_=ne,Object.keys(_).map(function(e){return _[e]})),se=function(){var n={};return n.callbacks=Object.create(null),n.add=function(e,t){if(!c(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");n.callbacks[e]=n.callbacks[e]||[];var a=n.callbacks[e].push(t)-1;return function(){n.callbacks[e].splice(a,1)}},n.execute=function(e,t){if(n.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;n.callbacks[e].length;){var a=n.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete n.callbacks[e]}catch(n){}}},n.executeAll=function(a,e){(e||a&&!s(a))&&Object.keys(n.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";n.execute(e,t)},n)},n.hasCallbacks=function(){return Boolean(Object.keys(n.callbacks).length)},n},ce=function(){},le=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},ue=function(n,r,e){return e()?function(){if(le(n)){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console[n].apply(console,[r].concat(t))}}:ce},de=new n("[ADOBE OPT-IN]"),pe=function(e,t){return M(e)===t},he=function(e,t){return e instanceof Array?e:pe(e,"string")?[e]:t||[]},fe=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},ge=function(e){return!(!e||be(e))&&he(e).every(function(e){return-1<oe.indexOf(e)})},me=function(e,a){return e.reduce(function(e,t){return e[t]=a,e},{})},_e=function(e){return JSON.parse(JSON.stringify(e))},be=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ve=function(e){if(ke(e))return e;try{return JSON.parse(e)}catch(e){return{}}},ye=function(e){return void 0===e||(ke(e)?ge(Object.keys(e)):Ee(e))},Ee=function(e){try{var t=JSON.parse(e);return!!e&&pe(e,"string")&&ge(Object.keys(t))}catch(e){return!1}},ke=function(e){return null!==e&&pe(e,"object")&&!1===Array.isArray(e)},Ie=function(){},Ae=function(e){return pe(e,"function")?e():e},De=function(e,t){ye(e)||de.error("".concat(t))},Te=function(t){return Object.keys(t).map(function(e){return t[e]})},Se=function(e){return Te(e).filter(function(e,t,a){return a.indexOf(e)===t})},we=function(d){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},a=t.command,n=t.params,r=void 0===n?{}:n,i=t.callback,o=void 0===i?Ie:i;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=a.split("."),c=d[s[0]],l=s[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:o});c[l].call(c,u)}catch(d){de.error("[execute] Something went wrong: "+d.message)}}};l.prototype=Object.create(Error.prototype),l.prototype.constructor=l;var Ce="fetchPermissions",Pe="[OptIn#registerPlugin] Plugin is invalid.";u.Categories=ne,u.TimeoutError=l;var Me=Object.freeze({OptIn:u,IabPlugin:d}),Ve={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),n=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,n<0?t.length:n))},set:function(e,t,a){var n=f(a,"cookieLifetime"),r=f(a,"expires"),i=f(a,"domain"),o=f(a,"secure")?"Secure":"";if(r&&"SESSION"!==n&&"NONE"!==n){var s=""!==t?parseInt(n||0,10):-60;if(s)(r=new Date).setTime(r.getTime()+1e3*s);else if(1===r){var c=(r=new Date).getYear();r.setYear(c+2+(c<1900?1900:0))}}else r=0;return e&&"NONE"!==n?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(i?" domain="+i+";":"")+o,this.get(e)===t):0},remove:function(e,t){var a=f(t,"domain");a=a?" domain="+a+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a}},Ne=function(d,p){d.publishDestinations=function(e,t,a){var n=t,r=a;try{r="function"==typeof r?r:e.callback}catch(d){r=function(){}}var i=p;if(i.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void r({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void r({error:"messages is not a populated array."});var o=!1;if(n.forEach(function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!j.isObject(e))return void r({error:"Invalid parameters passed."});var s=e;if("string"!=typeof(e=s.subdomain)||!e.length)return void r({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach(function(e){j.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):l.push(e))}),function u(){l.length&&setTimeout(function(){var e=new Image,t=l.shift();e.src=t.url,i.onPageDestinationsFired.push(t),u()},100)}()}i.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!d.subdomain&&d._getField("MCMID")?(i.subdomain=e,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),i.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Oe=Me.OptIn;j.defineGlobalNamespace(),window.adobe.OptInCategories=Oe.Categories;var je=function(n,r,e){function t(e){var n=e;return function(e){var t=e||g.location.href;try{var a=h._extractParamFromUri(t,n);if(a)return w.parsePipeDelimetedKeyValues(a)}catch(e){}}}function a(e){function t(e,t,a){e&&e.match(J.VALID_VISITOR_ID_REGEX)&&(a===b&&(p=!0),t(e))}t(e[b],h.setMarketingCloudVisitorID,b),h._setFieldExpire(I,-1),t(e[E],h.setAnalyticsVisitorID)}function i(e){e=e||{},h._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",h._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},h._supplementalDataIDLast=e.supplementalDataIDLast||"",h._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function r(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function t(e,t){var a=t[0],n=t[1];return null!=n&&n!==A&&(e=r(a,n,e)),e}var a,n=e.reduce(t,"");return(a=(a=n)?a+="|":a)+"TS="+w.getTimestampInSeconds()}function s(e){var t=e.minutesToLive,a="";return(h.idSyncDisableSyncs||h.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function c(){return!(!h.configs.doesOptInApply||l.optIn.isComplete&&d())}function d(){return h.configs.isIabContext?l.optIn.isApproved(l.optIn.Categories.ECID)&&u:l.optIn.isApproved(l.optIn.Categories.ECID)}if(!e||e.split("").reverse().join("")!==n)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var h=this,l=window.adobe,f="",u=!1,p=!1;h.version="4.3.0";var g=V,m=g.Visitor;m.version=h.version,m.AuthState=O.AUTH_STATE,m.OptOut=O.OPT_OUT,g.s_c_in||(g.s_c_il=[],g.s_c_in=0),h._c="Visitor",h._il=g.s_c_il,h._in=g.s_c_in,h._il[h._in]=h,g.s_c_in++,h._instanceType="regular",h._log={requests:[]},h.marketingCloudOrgID=n,h.cookieName="AMCV_"+n,h.sessionCookieName="AMCVS_"+n,h.cookieDomain=K(),h.cookieDomain===g.location.hostname&&(h.cookieDomain=""),h.loadSSL=0<=g.location.protocol.toLowerCase().indexOf("https"),h.loadTimeout=3e4,h.CORSErrors=[],h.marketingCloudServer=h.audienceManagerServer="dpm.demdex.net",h.sdidParamExpiry=30;var _=null,b="MCMID",v="MCIDTS",y="A",E="MCAID",k="AAM",I="MCAAMB",A="NONE",D=function(e){return!Object.prototype[e]},T=Q(h);h.FIELDS=O.FIELDS,h.cookieRead=function(e){return Ve.get(e)},h.cookieWrite=function(e,t,a){var n=h.cookieLifetime?(""+h.cookieLifetime).toUpperCase():"",r=!1;return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(r=!0),Ve.set(e,""+t,{expires:a,domain:h.cookieDomain,cookieLifetime:n,secure:r})},h.resetState=function(e){e?h._mergeServerState(e):i()},h._isAllowedDone=!1,h._isAllowedFlag=!1,h.isAllowed=function(){return h._isAllowedDone||(h._isAllowedDone=!0,(h.cookieRead(h.cookieName)||h.cookieWrite(h.cookieName,"T",1))&&(h._isAllowedFlag=!0)),"T"===h.cookieRead(h.cookieName)&&h._helpers.removeCookie(h.cookieName),h._isAllowedFlag},h.setMarketingCloudVisitorID=function(e){h._setMarketingCloudFields(e)},h._use1stPartyMarketingCloudServer=!1,h.getMarketingCloudVisitorID=function(e,t){h.marketingCloudServer&&h.marketingCloudServer.indexOf(".demdex.net")<0&&(h._use1stPartyMarketingCloudServer=!0);var a=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return h._getRemoteField(b,n,e,t,a)},h.getVisitorValues=function(e,t){var a={MCMID:{fn:h.getMarketingCloudVisitorID,args:[!0],context:h},MCOPTOUT:{fn:h.isOptedOut,args:[void 0,!0],context:h},MCAID:{fn:h.getAnalyticsVisitorID,args:[!0],context:h},MCAAMLH:{fn:h.getAudienceManagerLocationHint,args:[!0],context:h},MCAAMB:{fn:h.getAudienceManagerBlob,args:[!0],context:h}},n=t&&t.length?j.pluck(a,t):a;Y(n,e)},h._currentCustomerIDs={},h._customerIDsHashChanged=!1,h._newCustomerIDsHash="",h.setCustomerIDs=function(e){function t(){h._customerIDsHashChanged=!1}if(!h.isOptedOut()&&e){if(!j.isObject(e)||j.isObjectEmpty(e))return!1;var a,n;for(a in h._readVisitor(),e)if(D(a)&&(n=e[a]))if("object"===M(n)){var r={};n.id&&(r.id=n.id),null!=n.authState&&(r.authState=n.authState),h._currentCustomerIDs[a]=r}else h._currentCustomerIDs[a]={id:n};var i=h.getCustomerIDs(),o=h._getField("MCCIDH"),s="";for(a in o||(o=0),i)D(a)&&(s+=(s?"|":"")+a+"|"+((n=i[a]).id?n.id:"")+(n.authState?n.authState:""));h._newCustomerIDsHash=String(h._hash(s)),h._newCustomerIDsHash!==o&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs(t))}},h.getCustomerIDs=function(){h._readVisitor();var e,t,a={};for(e in h._currentCustomerIDs)D(e)&&(t=h._currentCustomerIDs[e],a[e]||(a[e]={}),t.id&&(a[e].id=t.id),null!=t.authState?a[e].authState=t.authState:a[e].authState=m.AuthState.UNKNOWN);return a},h.setAnalyticsVisitorID=function(e){h._setAnalyticsFields(e)},h.getAnalyticsVisitorID=function(e,t,a){if(!w.isTrackingServerPopulated()&&!a)return h._callCallback(e,[""]),"";var n="";if(a||(n=h.getMarketingCloudVisitorID(function(){h.getAnalyticsVisitorID(e,!0)})),n||a){var r=a?h.marketingCloudServer:h.trackingServer,i="";h.loadSSL&&(a?h.marketingCloudServerSecure&&(r=h.marketingCloudServerSecure):h.trackingServerSecure&&(r=h.trackingServerSecure));var o={};if(r){var s="http"+(h.loadSSL?"s":"")+"://"+r+"/id",c="d_visid_ver="+h.version+"&mcorgid="+encodeURIComponent(h.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",h._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+c+"&callback=s_c_il%5B"+h._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=l}return o.url=i,h._getRemoteField(a?b:E,i,e,t,o)}return""},h.getAudienceManagerLocationHint=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)})){var a=h._getField(E);if(!a&&w.isTrackingServerPopulated()&&(a=h.getAnalyticsVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)})),a||!w.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),r=n.url;return h._getRemoteField("MCAAMLH",r,e,t,n)}}return""},h.getLocationHint=h.getAudienceManagerLocationHint,h.getAudienceManagerBlob=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerBlob(e,!0)})){var a=h._getField(E);if(!a&&w.isTrackingServerPopulated()&&(a=h.getAnalyticsVisitorID(function(){h.getAudienceManagerBlob(e,!0)})),a||!w.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),r=n.url;return h._customerIDsHashChanged&&h._setFieldExpire(I,-1),h._getRemoteField(I,r,e,t,n)}}return""},h._supplementalDataIDCurrent="",h._supplementalDataIDCurrentConsumed={},h._supplementalDataIDLast="",h._supplementalDataIDLastConsumed={};var S=!(h.getSupplementalDataID=function(e,t){h._supplementalDataIDCurrent||t||(h._supplementalDataIDCurrent=h._generateID(1));var a=h._supplementalDataIDCurrent;return h._supplementalDataIDLast&&!h._supplementalDataIDLastConsumed[e]?(a=h._supplementalDataIDLast,h._supplementalDataIDLastConsumed[e]=!0):a&&(h._supplementalDataIDCurrentConsumed[e]&&(h._supplementalDataIDLast=h._supplementalDataIDCurrent,h._supplementalDataIDLastConsumed=h._supplementalDataIDCurrentConsumed,h._supplementalDataIDCurrent=a=t?"":h._generateID(1),h._supplementalDataIDCurrentConsumed={}),a&&(h._supplementalDataIDCurrentConsumed[e]=!0)),a});h._liberatedOptOut=null,h.getOptOut=function(e,t){var a=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(d())return h._getRemoteField("MCOPTOUT",n,e,t,a);if(h._registerCallback("liberatedOptOut",e),null!==h._liberatedOptOut)return h._callAllCallbacks("liberatedOptOut",[h._liberatedOptOut]),S=!1,h._liberatedOptOut;if(S)return null;S=!0;var r="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),a.callback=[r],V[r]=function(e){if(e===Object(e)){var t,a,n=j.parseOptOut(e,t,A);t=n.optOut,a=1e3*n.d_ottl,h._liberatedOptOut=t,setTimeout(function(){h._liberatedOptOut=null},a)}h._callAllCallbacks("liberatedOptOut",[t]),S=!1},T.fireCORS(a),null},h.isOptedOut=function(a,n,e){n||(n=m.OptOut.GLOBAL);var t=h.getOptOut(function(e){var t=e===m.OptOut.GLOBAL||0<=e.indexOf(n);h._callCallback(a,[t])},e);return t?t===m.OptOut.GLOBAL||0<=t.indexOf(n):null},h._fields=null,h._fieldsExpired=null,h._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},h._generateID=$,h._generateLocalMID=function(){var e=h._generateID(0);return P.isClientSideMarketingCloudVisitorID=!0,e},h._callbackList=null,h._callCallback=function(e,t){try{"function"==typeof e?e.apply(g,t):e[1].apply(e[0],t)}catch(e){}},h._registerCallback=function(e,t){t&&(null==h._callbackList&&(h._callbackList={}),null==h._callbackList[e]&&(h._callbackList[e]=[]),h._callbackList[e].push(t))},h._callAllCallbacks=function(e,t){if(null!=h._callbackList){var a=h._callbackList[e];if(a)for(;0<a.length;)h._callCallback(a.shift(),t)}},h._addQuerystringParam=function(e,t,a,n){var r=encodeURIComponent(t)+"="+encodeURIComponent(a),i=w.parseHash(e),o=w.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+i;var s=o.split("?"),c=s[0]+"?",l=s[1];return c+w.addQueryParamAtLocation(l,r,n)+i},h._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},h._parseAdobeMcFromUrl=t(J.ADOBE_MC),h._parseAdobeMcSdidFromUrl=t(J.ADOBE_MC_SDID),h._attemptToPopulateSdidFromUrl=function(e){var t=h._parseAdobeMcSdidFromUrl(e),a=1e9;t&&t.TS&&(a=w.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===n&&a<h.sdidParamExpiry&&(h._supplementalDataIDCurrent=t.SDID,h._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},h._attemptToPopulateIdsFromUrl=function(){var e=h._parseAdobeMcFromUrl();if(e&&e.TS){var t=w.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>J.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==n)return;a(e)}},h._mergeServerState=function(e){if(e)try{if(n=e,(e=w.isObject(n)?n:JSON.parse(n))[h.marketingCloudOrgID]){var t=e[h.marketingCloudOrgID];a=t.customerIDs,w.isObject(a)&&h.setCustomerIDs(a),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var a,n},h._timeout=null,h._loadData=function(e,t,a,n){t=h._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=h._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=h._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),P.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===T.corsMetadata.corsType&&T.fireCORS(n,a,e)},h._clearTimeout=function(e){null!=h._timeout&&h._timeout[e]&&(clearTimeout(h._timeout[e]),h._timeout[e]=0)},h._settingsDigest=0,h._getSettingsDigest=function(){if(!h._settingsDigest){var e=h.version;h.audienceManagerServer&&(e+="|"+h.audienceManagerServer),h.audienceManagerServerSecure&&(e+="|"+h.audienceManagerServerSecure),h._settingsDigest=h._hash(e)}return h._settingsDigest},h._readVisitorDone=!1,h._readVisitor=function(){if(!h._readVisitorDone){h._readVisitorDone=!0;var e,t,a,n,r,i,o=h._getSettingsDigest(),s=!1,c=h.cookieRead(h.cookieName),l=new Date;if(c||p||h.discardTrackingServerECID||(c=h.cookieRead(J.FIRST_PARTY_SERVER_COOKIE)),null==h._fields&&(h._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],n=c[e+1],1<t.length?(r=parseInt(t[1],10),i=0<t[1].indexOf("s")):(r=0,i=!1),s&&("MCCIDH"===a&&(n=""),0<r&&(r=l.getTime()/1e3-60)),a&&n&&(h._setField(a,n,1),0<r&&(h._fields["expire"+a]=r+(i?"s":""),(l.getTime()>=1e3*r||i&&!h.cookieRead(h.sessionCookieName))&&(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[a]=!0)));!h._getField(E)&&w.isTrackingServerPopulated()&&(c=h.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(n=c[1]).indexOf("["))&&(n=n.substring(0,e)),n&&n.match(J.VALID_VISITOR_ID_REGEX)&&h._setField(E,n))}},h._appendVersionTo=function(e){var t="vVersion|"+h.version,a=e?h._getCookieVersion(e):null;return a?z.areVersionsDifferent(a,h.version)&&(e=e.replace(J.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},h._writeVisitor=function(){var e,t,a=h._getSettingsDigest();for(e in h._fields)D(e)&&h._fields[e]&&"expire"!==e.substring(0,6)&&(t=h._fields[e],a+=(a?"|":"")+e+(h._fields["expire"+e]?"-"+h._fields["expire"+e]:"")+"|"+t);a=h._appendVersionTo(a),h.cookieWrite(h.cookieName,a,1)},h._getField=function(e,t){return null==h._fields||!t&&h._fieldsExpired&&h._fieldsExpired[e]?null:h._fields[e]},h._setField=function(e,t,a){null==h._fields&&(h._fields={}),h._fields[e]=t,a||h._writeVisitor()},h._getFieldList=function(e,t){var a=h._getField(e,t);return a?a.split("*"):null},h._setFieldList=function(e,t,a){h._setField(e,t?t.join("*"):"",a)},h._getFieldMap=function(e,t){var a=h._getFieldList(e,t);if(a){var n,r={};for(n=0;n<a.length;n+=2)r[a[n]]=a[n+1];return r}return null},h._setFieldMap=function(e,t,a){var n,r=null;if(t)for(n in r=[],t)D(n)&&(r.push(n),r.push(t[n]));h._setFieldList(e,r,a)},h._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==h._fields&&(h._fields={}),h._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[e]=!0):h._fieldsExpired&&(h._fieldsExpired[e]=!1),a&&(h.cookieRead(h.sessionCookieName)||h.cookieWrite(h.sessionCookieName,"1"))},h._findVisitorID=function(e){return e&&("object"===M(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=A),e&&(e===A||e.match(J.VALID_VISITOR_ID_REGEX))||(e="")),e},h._setFields=function(e,t){if(h._clearTimeout(e),null!=h._loading&&(h._loading[e]=!1),P.fieldGroupObj[e]&&P.setState(e,!1),"MC"===e){!0!==P.isClientSideMarketingCloudVisitorID&&(P.isClientSideMarketingCloudVisitorID=!1);var a=h._getField(b);if(!a||h.overwriteCrossDomainMCIDAndAID){if(!(a="object"===M(t)&&t.mid?t.mid:h._findVisitorID(t))){if(h._use1stPartyMarketingCloudServer&&!h.tried1stPartyMarketingCloudServer)return h.tried1stPartyMarketingCloudServer=!0,void h.getAnalyticsVisitorID(null,!1,!0);a=h._generateLocalMID()}h._setField(b,a)}a&&a!==A||(a=""),"object"===M(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&h._setFields(k,t),h._use1stPartyMarketingCloudServer&&t.mid&&h._setFields(y,{id:t.id})),h._callAllCallbacks(b,[a])}if(e===k&&"object"===M(t)){var n=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(n=parseInt(t.id_sync_ttl,10));var r=C.getRegionAndCheckIfChanged(t,n);h._callAllCallbacks("MCAAMLH",[r]);var i=h._getField(I);(t.d_blob||t.blob)&&((i=t.d_blob)||(i=t.blob),h._setFieldExpire(I,n),h._setField(I,i)),i||(i=""),h._callAllCallbacks(I,[i]),!t.error_msg&&h._newCustomerIDsHash&&h._setField("MCCIDH",h._newCustomerIDsHash)}if(e===y){var o=h._getField(E);o&&!h.overwriteCrossDomainMCIDAndAID||((o=h._findVisitorID(t))?o!==A&&h._setFieldExpire(I,-1):o=A,h._setField(E,o)),o&&o!==A||(o=""),h._callAllCallbacks(E,[o])}if(h.idSyncDisableSyncs||h.disableIdSyncs)C.idCallNotProcesssed=!0;else{C.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,C.processIDCallData(s)}if(t===Object(t)){var c,l;d()&&h.isAllowed()&&(c=h._getField("MCOPTOUT"));var u=j.parseOptOut(t,c,A);c=u.optOut,l=u.d_ottl,h._setFieldExpire("MCOPTOUT",l,!0),h._setField("MCOPTOUT",c),h._callAllCallbacks("MCOPTOUT",[c])}},h._loading=null,h._getRemoteField=function(a,e,t,n,r){var i,o="",s=w.isFirstPartyAnalyticsVisitorIDCall(a),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&h.isAllowed())if(h._readVisitor(),!(!(o=h._getField(a,!0===c[a]))||h._fieldsExpired&&h._fieldsExpired[a])||h.disableThirdPartyCalls&&!s)o||(a===b?(h._registerCallback(a,t),o=h._generateLocalMID(),h.setMarketingCloudVisitorID(o)):a===E?(h._registerCallback(a,t),o="",h.setAnalyticsVisitorID(o)):n=!(o=""));else if(a===b||"MCOPTOUT"===a?i="MC":"MCAAMLH"===a||a===I?i=k:a===E&&(i=y),i)return!e||null!=h._loading&&h._loading[i]||(null==h._loading&&(h._loading={}),h._loading[i]=!0,h._loadData(i,e,function(e){if(!h._getField(a)){e&&P.setState(i,!0);var t="";a===b?t=h._generateLocalMID():i===k&&(t={error_msg:"timeout"}),h._setFields(i,t)}},r)),h._registerCallback(a,t),o||(e||h._setFields(i,{id:A}),"");return a!==b&&a!==E||o!==A||(n=!(o="")),t&&n&&h._callCallback(t,[o]),o},h._setMarketingCloudFields=function(e){h._readVisitor(),h._setFields("MC",e)},h._mapCustomerIDs=function(e){h.getAudienceManagerBlob(e,!0)},h._setAnalyticsFields=function(e){h._readVisitor(),h._setFields(y,e)},h._setAudienceManagerFields=function(e){h._readVisitor(),h._setFields(k,e)},h._getAudienceManagerURLData=function(e){var t=h.audienceManagerServer,a="",n=h._getField(b),r=h._getField(I,!0),i=h._getField(E),o=i&&i!==A?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(h.loadSSL&&h.audienceManagerServerSecure&&(t=h.audienceManagerServerSecure),t){var s,c,l=h.getCustomerIDs();if(l)for(s in l)D(s)&&(c=l[s],o+="&d_cid_ic="+encodeURIComponent(s
)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(h.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+h.version+(f&&-1!==u.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+f:"")+"&d_rtbd=json&d_ver=2"+(!n&&h._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(h.marketingCloudOrgID)+"&d_nsid="+(h.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===_?"&d_coop_safe=1":!1===_?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,p=["s_c_il",h._in,e];return{url:a=u+"?"+d+"&d_cb=s_c_il%5B"+h._in+"%5D."+e,corsUrl:u+"?"+d,callback:p}}return{url:a}},h.appendVisitorIDsTo=function(e){try{var t=[[b,h._getField(b)],[E,h._getField(E)],["MCORGID",h.marketingCloudOrgID]];return h._addQuerystringParam(e,J.ADOBE_MC,o(t))}catch(t){return e}},h.appendSupplementalDataIDTo=function(e,t){if(!(t=t||h.getSupplementalDataID(w.generateRandomString(),!0)))return e;try{var a=o([["SDID",t],["MCORGID",h.marketingCloudOrgID]]);return h._addQuerystringParam(e,J.ADOBE_MC_SDID,a)}catch(t){return e}};var w={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var n=e.split("&");return a=null!=a?a:n.length,n.splice(a,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===E&&(t||(t=h.trackingServer),a||(a=h.trackingServerSecure),!("string"!=typeof(n=h.loadSSL?a:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Ve.remove(e,{domain:h.cookieDomain})},isTrackingServerPopulated:function(){return!!h.trackingServer||!!h.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};h._helpers=w;var C=X(h,m);h._destinationPublishing=C,h.timeoutMetricsLog=[];var P={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case y:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case k:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};h.isClientSideMarketingCloudVisitorID=function(){return P.isClientSideMarketingCloudVisitorID},h.MCIDCallTimedOut=function(){return P.MCIDCallTimedOut},h.AnalyticsIDCallTimedOut=function(){return P.AnalyticsIDCallTimedOut},h.AAMIDCallTimedOut=function(){return P.AAMIDCallTimedOut},h.idSyncGetOnPageSyncInfo=function(){return h._readVisitor(),h._getField("MCSYNCSOP")},h.idSyncByURL=function(e){if(!h.isOptedOut()){var t=s(e||{});if(t.error)return t.error;var a,n,r=e.url,i=encodeURIComponent,o=C;return r=r.replace(/^https:/,"").replace(/^http:/,""),a=j.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",i(e.dpid),"img",i(r),t.ttl,"",a],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},h.idSyncByDataSource=function(e){if(!h.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,h.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ne(h,C),h._getCookieVersion=function(e){e=e||h.cookieRead(h.cookieName);var t=J.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},h._resetAmcvCookie=function(e){var t=h._getCookieVersion();t&&!z.isLessThan(t,e)||w.removeCookie(h.cookieName)},h.setAsCoopSafe=function(){_=!0},h.setAsCoopUnsafe=function(){_=!1},function(){if(h.configs=Object.create(null),w.isObject(r))for(var e in r)D(e)&&(h[e]=r[e],h.configs[e]=r[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],a=2===e.length?e[1]:"",n=h[t];h[t]=function(e){return d()&&h.isAllowed()?n.apply(h,arguments):("function"==typeof e&&h._callCallback(e,[a]),a)}}),h.init=function(){if(c())var a=l.optIn.fetchPermissions(function(){l.optIn.isApproved(l.optIn.Categories.ECID)&&(h.configs.isIabContext?l.optIn.execute({command:"iabPlugin.fetchConsentData",callback:function(e,t){if(u=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(f=t.consentString),h.init(),a()}}):(h.init(),a()))},!0);else!function(){if(w.isObject(r)){h.idSyncContainerID=h.idSyncContainerID||0,_="boolean"==typeof h.isCoopSafe?h.isCoopSafe:w.parseBoolean(h.isCoopSafe),h.resetBeforeVersion&&h._resetAmcvCookie(h.resetBeforeVersion),h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl(),h._readVisitor();var e=h._getField(v),t=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);h.idSyncDisableSyncs||h.disableIdSyncs||!C.canMakeSyncIDCall(e,t)||(h._setFieldExpire(I,-1),h._setField(v,t)),h.getMarketingCloudVisitorID(),h.getAudienceManagerLocationHint(),h.getAudienceManagerBlob(),h._mergeServerState(h.serverState)}else h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl()}(),function(){if(!h.idSyncDisableSyncs&&!h.disableIdSyncs){C.checkDPIframeSrc();var e=function(){var e=C;e.readyToAttachIframe()&&e.attachIframe()};g.addEventListener("load",function(){m.windowLoaded=!0,e()});try{W.receiveMessage(function(e){C.receiveMessage(e.data)},C.iframeHost)}catch(e){}}}(),h.whitelistIframeDomains&&J.POST_MESSAGE_ENABLED&&(h.whitelistIframeDomains=h.whitelistIframeDomains instanceof Array?h.whitelistIframeDomains:[h.whitelistIframeDomains],h.whitelistIframeDomains.forEach(function(e){var t=new L(n,e),a=q(h,t);W.receiveMessage(a,e)}))}};je.config=ee;var Le=V.Visitor=je,Re=Me.OptIn,xe=Me.IabPlugin;Le.getInstance=function(n,r){if(!n)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");n.indexOf("@")<0&&(n+="@AdobeOrg");var e=function(){var e=V.s_c_il;if(e)for(var t=0;t<e.length;t++){var a=e[t];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===n)return a}}();if(e)return e;var i,t=function(){if(j.isObject(r))return Object.keys(r).reduce(function(e,t){var a="doesOptInApply"!==t?r[t]:ee.normalizeConfig(r[t]),n=j.normalizeBoolean(a);return e[t]=n,e},Object.create(null))}();i=t||{},V.adobe.optIn=V.adobe.optIn||function(){var e=j.pluck(i,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=i.optInCookieDomain||i.cookieDomain;t=(t=t||K())===window.location.hostname?"":t,e.optInCookieDomain=t;var a=new Re(e,{cookies:Ve});if(e.isIabContext){var n=new xe(window.__cmp);a.registerPlugin(n)}return a}();var a=n.split("").reverse().join(""),o=new Le(n,null,a);j.isObject(t)&&t.cookieDomain&&(o.cookieDomain=t.cookieDomain),V.s_c_il.splice(--V.s_c_in,1);var s=j.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,l=function(){try{return V.self!==V.parent}catch(n){return!0}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c._helpers.removeCookie("TEST_AMCV_COOKIE"),0))&&V.parent?new x(n,t,o,V.parent):new Le(n,t,a);return o=null,l.init(),l},function(){function e(){Le.windowLoaded=!0}V.addEventListener?V.addEventListener("load",e):V.attachEvent&&V.attachEvent("onload",e),Le.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}},settings:{orgId:"9AE0F0145936E3790A495CAA@AdobeOrg",variables:[{name:"trackingServer",value:"discoverydp.d3.sc.omtrdc.net"}]},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd43252a8e27043c6871ef15ea4c8bd4f/"},core:{displayName:"Core",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var n=a("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e){return e.source()}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerPageBottomTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var r,i,o,s=a("@adobe/reactor-document"),c=a("./helpers/decorateCode"),l=a("./helpers/loadCodeSequentially"),u=a("../../../node_modules/postscribe/dist/postscribe"),d=(r=function(e){u(s.body,e,{error:function(e){n.logger.error(e.msg)}})},i=[],o=function(){if(s.body)for(;i.length;)r(i.shift());else setTimeout(o,20)},function(e){i.push(e),o()}),p=function(){if(s.currentScript)return s.currentScript.async;for(var e=s.querySelectorAll("script"),t=0;t<e.length;t++){var a=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(a.src))return a.async}return!0}();e.exports=function(e,t){var a={settings:e,event:t},n=a.settings.source;if(n)return a.settings.isExternal?l(n).then(function(e){e&&d(c(a,e))}):void(p||"loading"!==s.readyState?d(c(a,n)):s.write?s.write(c(a,n)):d(c(a,n)))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var n=function(e){return"number"==typeof e&&isFinite(e)},r=function(e){return"string"==typeof e||e instanceof String},i=function(e,t){return t&&r(e)?e.toLowerCase():e},o=function(e){return n(e)?String(e):e},s=function(e){return r(e)?Number(e):e},t=function(n){return function(e,t,a){return e=o(e),t=o(t),r(e)&&r(t)&&n(e,t,a)}},a=function(a){return function(e,t){return e=s(e),t=s(t),n(e)&&n(t)&&a(e,t)}},c=function(n){return function(e,t,a){return n(i(e,a),i(t,a))}},l={equals:c(function(e,t){return e==t}),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:t(c(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:t(c(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:t(c(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:t(function(e,t,a){return new RegExp(t,a?"i":"").test(e)}),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:a(function(e,t){return e<t}),lessThanOrEqual:a(function(e,t){return e<=t}),greaterThan:a(function(e,t){return t<e}),greaterThanOrEqual:a(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return l[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,r){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=i[e];if(a){var n={identifier:e,detail:t};a.forEach(function(e){e(n)})}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=i[e.identifier];a||(a=i[e.identifier]=[]),a.push(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,a){"use strict";var l=a("@adobe/reactor-document"),u=a("@adobe/reactor-window"),n=a("./helpers/weakMap"),r=a("./helpers/debounce"),i=a("./helpers/enableWeakMapDefaultValue"),o=a("./helpers/matchesSelector"),s=a("./helpers/matchesProperties"),c=3e3,d=200,p={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},h=-1!==u.navigator.appVersion.indexOf("MSIE 10"),f=i(new n,function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}}),g={},m=function(e){var t;try{t=e.getBoundingClientRect()}catch(c){}var a=l.documentElement,n=l.body,r=a.clientTop||n.clientTop||0,i=a.clientLeft||n.clientLeft||0,o=u.pageYOffset||a.scrollTop||n.scrollTop,s=u.pageXOffset||a.scrollLeft||n.scrollLeft;return{top:t.top+o-r,left:t.left+s-i}},_=function(){var e=u.innerHeight,t=l.compatMode;return t&&(e="CSS1Compat"===t?l.documentElement.clientHeight:l.body.clientHeight),e},b=function(){return l.documentElement.scrollTop?l.documentElement.scrollTop:l.body.scrollTop},v=function(e,t,a){var n=m(e).top,r=e.offsetHeight;return l.body.contains(e)&&!(n+r<a||a+t<n)},y=function(n){var r=f.get(n);r.inViewport||(r.inViewport=!0,Object.keys(g).forEach(function(e){o(n,e)&&g[e].forEach(function(e){if(s(n,e.settings.elementProperties)&&-1===r.completedListeners.indexOf(e)){var t=function(){(e.settings.frequency||p.FIRST_ENTRY)===p.FIRST_ENTRY&&r.completedListeners.push(e),e.trigger({element:n,target:n,delay:e.settings.delay})};if(e.settings.delay){var a=setTimeout(function(){v(n,_(),b())&&t()},e.settings.delay);r.timeoutIds.push(a)}else t()}})}))},E=function(e){var t=f.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},k=r(function(){var e=Object.keys(g);if(e.length)for(var t=l.querySelectorAll(e.join(",")),a=_(),n=b(),r=0;r<t.length;r++){var i=t[r];v(i,a,n)?y(i):E(i)}},d),I=function(){k(),setInterval(k,c),u.addEventListener("resize",k),u.addEventListener("scroll",k)};h?"complete"===l.readyState?I():u.addEventListener("load",I):"loading"!==l.readyState?I():l.addEventListener("DOMContentLoaded",I),e.exports=function(e,t){var a=g[e.elementSelector];a||(a=g[e.elementSelector]=[]),a.push({settings:e,trigger:t})}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var i=a("@adobe/reactor-window"),o=a("./helpers/createBubbly")(),s=new(a("./helpers/weakMap")),c=function(e){for(;e;){var t=e.tagName;if(t&&"a"===t.toLowerCase()){var a=e.getAttribute("href"),n=e.getAttribute("target");return a&&(!n||"_self"===n||"_top"===n&&i.top===i||n===i.name)?e:void 0}e=e.parentNode}};document.addEventListener("click",o.evaluateEvent,!0),e.exports=function(n,r){o.addListener(n,function(e){var t=e.nativeEvent;if(!t.s_fe){if(n.anchorDelay&&!s.has(t)){var a=c(t.target);a&&(t.preventDefault(),setTimeout(function(){i.location=a.href},n.anchorDelay)),s.set(t,!0)}r(e)}})},e.exports.__reset=o.__reset}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("../../../node_modules/escape-string-regexp/index.js");e.exports=function(e){var t=n.location.hostname;return e.domains.some(function(e){return t.match(new RegExp("(^|\\.)"+r(e)+"$","i"))})}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),n=e,r=0,i=a.length;r<i;r++){if(null==n)return undefined;n=n[a[r]]}return n}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),i=-1!==n.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,o],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach(function(e){d[e]=[]});var p=function(e,t){l.slice(0,f(e)+1).forEach(function(e){g(t,e)})},h=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?i?null:s:void 0},f=function(e){return l.indexOf(e)},g=function(t,e){d[e].forEach(function(e){m(t,e)}),d[e]=[]},m=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=p.bind(null,c),r.addEventListener("DOMContentLoaded",p.bind(null,s),!0),n.addEventListener("load",p.bind(null,o),!0),n.setTimeout(function(){var e=h();e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,r)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:u.bind(null,n)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a,n){"use strict";var r=0,i=function(e){return e.settings.isExternal},o=function(e,t){return"<script>\n"+t+"\n</script>"},s=function(t,e){var a="__runScript"+ ++r;return _satellite[a]=function(e){e.call(t.event.element,t.event,t.event.target),delete _satellite[a]},'<script>_satellite["'+a+'"](function(event, target) {\n'+e+"\n});</script>"},c={javascript:function(e,t){return e.settings.global?o(e,t):s(e,t)},html:function(e,t){return i(e)?n.replaceTokens(t,e.event):t}};e.exports=function(e,t){return c[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),i=n.resolve();e.exports=function(t){var e=new n(function(a){var e=r(t);n.all([e,i]).then(function(e){var t=e[0];a(t)})});return i=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(a,n){!function r(e,t){"object"==typeof n&&"object"==typeof a?a.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof n?n.postscribe=t():e.postscribe=t()}(this,function(){return function(a){function n(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r={};return n.m=a,n.c=r,n.p="",n(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=n(a(1));e.exports=r["default"]},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function l(){}function u(){var e=c.shift();if(e){var t=o.last(e);t.afterDequeue(),e.stream=i.apply(undefined,e),t.afterStreamStart()}}function i(e,t,n){function r(e){e=n.beforeWrite(e),g.write(e),n.afterWrite(e)}(g=new h["default"](e,n)).id=f++,g.name=n.name||g.id,d.streams[g.name]=g;var a=e.ownerDocument,i={close:a.close,open:a.open,write:a.write,writeln:a.writeln};p(a,{close:l,open:l,write:function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join("")+"\n")}});var o=g.win.onerror||l;return g.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),o.apply(g.win,[e,t,a])},g.write(t,function(){p(a,i),g.win.onerror=o,n.done(),g=null,u()}),g}function d(e,t,a){if(o.isFunction(a))a={done:a};else if("clear"===a)return c=[],g=null,void(f=0);a=o.defaults(a,s);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function r(){n.stream?n.stream.abort():n[1]=l}},a.beforeEnqueue(n),c.push(n),g||u(),e.postscribe}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t["default"]=d;var h=r(a(2)),o=n(a(4)),s={afterAsync:l,afterDequeue:l,afterStreamStart:l,afterWrite:l,autoFix:!0,beforeEnqueue:l,beforeWriteToken:function m(e){return e},beforeWrite:function _(e){return e},done:l,error:function b(e){throw new Error(e.msg)},releaseAsync:!1},f=0,c=[],g=null;p(d,{streams:{},queue:c,WriteStream:h["default"]})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){var a=T+t,n=e.getAttribute(a);return A.existy(n)?String(n):n}function E(e,t,a){var n=2<arguments.length&&a!==undefined?arguments[2]:null,r=T+t;A.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}t.__esModule=!0;var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I=r(a(3)),A=n(a(4)),D=!1,T="data-ps-",S="ps-style",w="ps-script",i=function(){function n(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:{};v(this,n),this.root=e,this.options=a,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new I["default"]("",{autoFix:a.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],E(this.proxyRoot,"proxyof",0)}return n.prototype.write=function a(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();A.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},n.prototype._callFunction=function r(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},n.prototype._writeImpl=function i(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=A.isScript(t))&&!(n=A.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},n.prototype._writeStaticTokens=function o(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,D&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),D&&(t.actualInnerHTML=this.root.innerHTML),t):null},n.prototype._buildChunk=function u(e){for(var t=this.actuals.length,a=[],n=[],r=[],i=e.length,o=0;o<i;o++){var s=e[o],c=s.toString();if(a.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;n.push(c.replace(/(\/?>)/," "+T+"id="+l+" $1")),s.attrs.id!==w&&s.attrs.id!==S&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+T+"proxyof="+l+(s.unary?" />":">"))}}else n.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},n.prototype._walkChunk=function s(){for(var e=void 0,t=[this.proxyRoot];A.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!y(e,"proxyof")){a&&E(this.actuals[y(e,"id")]=e,"id");var n=e.parentNode&&y(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,A.toArray(e.childNodes))}},n.prototype._handleScriptToken=function c(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},n.prototype._handleStyleToken=function l(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},n.prototype._writeStyleToken=function d(e){var t=this._buildStyle(e);this._insertCursor(t,S),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},n.prototype._buildStyle=function t(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),A.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},n.prototype._insertCursor=function p(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},n.prototype._onScriptStart=function h(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},n.prototype._onScriptDone=function f(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},n.prototype._writeScriptToken=function g(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,w),a.src&&!n||t()}catch(i){this.options.error(i),t()}},n.prototype._buildScript=function m(e){var a=this.doc.createElement(e.tagName);return A.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},n.prototype._scriptLoadHandler=function _(t,a){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){n(),null!=a&&a(),a=null}function i(e){n(),o(e),null!=a&&a(),a=null}function e(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;e(t,"load"),e(t,"error"),k(t,{onload:function s(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){i({msg:"onload handler failed "+e+" @ "+t.src})}r()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void i({msg:"onerror handler failed "+e+" @ "+t.src})}i({msg:"remote script failed "+t.src})},onreadystatechange:function l(){/^(loaded|complete)$/.test(t.readyState)&&r()}})},n.prototype._shouldRelease=function b(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},n}();t["default"]=i},function(a){!function n(e,t){a.exports=t()}(0,function(){return function(a){function n(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r={};return n.m=a,n.c=r,n.p="",n(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=n(a(1));e.exports=r["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var d=r(a(2)),p=r(a(3)),h=n(a(6)),i=a(5),f={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function c(e,t){var a=this,n=0<arguments.length&&e!==undefined?arguments[0]:"",r=1<arguments.length&&t!==undefined?arguments[1]:{};u(this,c),this.stream=n;var i=!1,o={};for(var s in d)d.hasOwnProperty(s)&&(r.autoFix&&(o[s+"Fix"]=!0),i=i||o[s+"Fix"]);i?(this._readToken=(0,h["default"])(this,o,function(){return a._readTokenImpl()}),this._peekToken=(0,h["default"])(this,o,function(){return a._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function a(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function n(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function r(){for(var e in f)if(f.hasOwnProperty(e)&&f[e].test(this.stream)){var t=p[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function i(){return this._readToken()},c.prototype.readTokens=function o(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function s(){var e=this.stream;return this.stream="",e},c.prototype.rest=function l(){return this.stream},c}();for(var s in(t["default"]=o).tokenToString=function(e){return e.toString()},o.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,i.escapeQuotes)(e[a],null));return t},o.supports=d)d.hasOwnProperty(s)&&(o.browserHasFlaw=o.browserHasFlaw||!d[s]&&s)},function(e,t){"use strict";var a=!(t.__esModule=!0),n=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=a=r.innerHTML!==i}catch(o){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(o){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(0<=t)return new u.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new u.CharsToken(0<=t?t:e.length)}function i(e){var o,s,c;if(-1!==e.indexOf(">")){var t=e.match(d.startTag);if(t){var a=(o={},s={},c=t[2],t[2].replace(d.attr,function(e,t,a,n,r,i){a||n||r||i?arguments[5]?(o[arguments[5]]="",s[arguments[5]]=!0):o[t]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new u.StartTagToken(t[1],t[0].length,o,s,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":l(a)))return a.v}}}function o(e){var t=i(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new u.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new u.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=i,t.atomicTag=o,t.endTag=s;var u=a(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=a(5),n=t.Token=function n(e,t){s(this,n),this.type=e,this.length=t,this.text=""},r=(t.CommentToken=function(){function a(e,t){s(this,a),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return a.prototype.toString=function e(){return"<!--"+this.content},a}(),t.CharsToken=function(){function t(e){s(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function i(e,t,a,n,r){s(this,i),this.type=e,this.length=a,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return i.formatTag=function o(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:null,n="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){n+=" "+r;var i=e.attrs[r];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[r]||(n+='="'+(0,c.escapeQuotes)(i)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",a!==undefined&&null!==a&&(n+=a+"</"+e.tagName+">"),n},i}());t.StartTagToken=function(){function o(e,t,a,n,r,i){s(this,o),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,
this.html5Unary=!1,this.unary=r,this.rest=i}return o.prototype.toString=function e(){return r.formatTag(this)},o}(),t.AtomicTagToken=function(){function i(e,t,a,n,r){s(this,i),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=r}return i.prototype.toString=function e(){return r.formatTag(this,this.content)},i}(),t.EndTagToken=function(){function a(e,t){s(this,a),this.type="endTag",this.length=t,this.text="",this.tagName=e}return a.prototype.toString=function e(){return"</"+this.tagName+">"},a}()},function(e,t){"use strict";function a(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):a}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function l(e){return e&&"startTag"===e.type&&(e.unary=n.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function u(e,t){var a=e.stream,n=l(t());return e.stream=a,n}function d(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function p(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function a(a,n,t){function r(){var e=u(a,t);e&&o[e.type]&&o[e.type](e)}var i=p(),o={startTag:function s(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),r()):n.selfCloseFix&&h.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?d(a,i):(a.prepend("</"+e.tagName+">"),r()):e.unary||i.push(e)},endTag:function c(e){i.last()?n.tagSoupFix&&!i.lastTagNameEq(e.tagName)?d(a,i):i.pop():n.tagSoupFix&&(t(),r())}};return function e(){return r(),l(t())}}t.__esModule=!0,t["default"]=a;var n=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,h=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function r(e,t,a){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(a,e[n],n)}function i(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function o(a,e){return a=a||{},i(e,function(e,t){n(a[e])||(a[e]=t)}),a}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],r(e,function(e){a.push(e)}),{v:a});if("object"===(void 0===t?"undefined":p(t)))return t.v}var a}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=r,t.eachKey=i,t.defaults=o,t.toArray=s,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])})}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),i={},o={},s=function(e){return o[e]||(o[e]=n(e)),o[e]};_satellite.__registerScript=function(e,t){i[e]=t},e.exports=function(t){return i[t]?r.resolve(i[t]):new r(function(e){s(t).then(function(){e(i[t])},function(){e()})})}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,i=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=undefined,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(a,n,r){var i=null;return function(){var e=r||this,t=arguments;clearTimeout(i),i=setTimeout(function(){a.apply(e,t)},n)}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(t,a){var n=t.get;return t.get=function(e){return t.has(e)||t.set(e,a()),n.apply(this,arguments)},t}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(n){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var r=a("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(n,e){return!e||e.every(function(e){var t=i(n,e.name),a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)})}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var n=a("./weakMap"),h=a("./matchesProperties"),f=a("./matchesSelector");e.exports=function(){var d=[],p=new n,e={addListener:function(e,t){d.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(d.length&&!p.has(t)){for(var a=t.target,n=!1;a;){for(var r=!1,i=!1,o=0;o<d.length;o++){var s=d[o],c=s.settings.elementSelector,l=s.settings.elementProperties;if((!1!==s.settings.bubbleFireIfChildFired||!n)&&(a===t.target||!1!==s.settings.bubbleFireIfParent)&&(a===t.target||c||l&&Object.keys(l).length)&&(!c||f(a,c))&&(!l||h(a,l))){var u={};e?Object.keys(t).forEach(function(e){u[e]=t[e]}):u.nativeEvent=t,u.element=a,u.target=t.target,!1!==s.callback(u)&&(i=!0,s.settings.bubbleStop&&(r=!0))}}if(r)break;i&&(n=!0),a=a.parentNode}p.set(t,!0)}},__reset:function(){d=[]}};return e}}},"core/node_modules/escape-string-regexp/index.js":{script:function(e){"use strict";var t=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(t,"\\$&")}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56a4071b8bdf4810b1e8c195ebd0fe85/"},"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=a("../helpers/applyTrackerVariables");e.exports=function(t,a){return r().then(function(e){n.logger.info("Set variables on the tracker."),i(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(a.element,a,e)},function(e){n.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(n.logger.info("Clear variables."),e.clearVars())},function(e){n.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,r){"use strict";var n=a("../sharedModules/getTracker"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return i(e)?e.innerHTML:"link clicked"},s=function(e,t,a){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var n={linkType:t.linkType||"o",linkName:t.linkName||o(a)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(n)+"."),e.tl(i(a)?a:"true",n.linkType,n.linkName)}};e.exports=function(t,a){return n().then(function(e){s(e,t,a.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,o){"use strict";var n,r=a("@adobe/reactor-cookie"),i=a("@adobe/reactor-promise"),s=a("@adobe/reactor-window"),c=a("../helpers/augmenters"),l=a("@adobe/reactor-load-script"),u=a("../helpers/applyTrackerVariables"),d=a("../helpers/loadLibrary"),p=a("../helpers/generateVersion")(o.buildInfo.turbineBuildDate),h="beforeSettings",f=o.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===r.get(e)},m=function(n){return i.all(c.map(function(e){var t;try{t=e(n)}catch(a){setTimeout(function(){throw a})}return i.resolve(t)})).then(function(){return n})},_=function(e){return f&&(o.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},b=function(e){return o.logger.info('Setting version on tracker: "'+p+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e},v=function(e,t,a){return t.loadPhase===h&&t.source&&(o.logger.info("Calling custom script before settings."),t.source.call(s,a)),u(a,e||{}),t.loadPhase!==h&&t.source&&(o.logger.info("Calling custom script after settings."),t.source.call(s,a)),a},y=function(e,t){var a=e.moduleProperties;if(a&&a.audienceManager&&a.audienceManager.config&&s._satellite&&s._satellite.company&&s._satellite.company.orgId){var n={namespace:s._satellite.company.orgId};a.audienceManager.config.visitorService=n;var r="AppMeasurement_Module_AudienceManagement.js",i=o.getHostedLibFileUrl(r);return l(i).then(function(){return t.loadModule("AudienceManagement"),o.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(a.audienceManager.config),t})}return t},E=(n=o.getExtensionSettings(),g(n.trackingCookieName)?d(n).then(m).then(_).then(b).then(v.bind(null,n.trackerProperties,n.customSetup||{})).then(y.bind(null,n)):i.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return E}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,o){"use strict";var r=a("@adobe/reactor-query-string"),i=a("@adobe/reactor-window"),s=/eVar([0-9]+)/,c=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),u=function(e,t,a){return a.indexOf(e)===t},d=function(e,t,a){var n=Object.keys(t).filter(l.test.bind(l));return a&&n.push("events"),(n=n.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&u(e,t,n)}).join(",")},p=function(e,t){var a=t.map(function(e){return e.name});return(a=a.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&u(e,t,a)}).join(",")},n=function(e,t,a){e[t]=a[t].join(",")},h=function(r,e,t){var i=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var a=s.exec(e.value);if(a)t=i+"v"+a[1];else{var n=c.exec(e.value);n&&(t=i+"c"+n[1])}}r[e.name]=t})},f={linkDownloadFileTypes:n,linkExternalFilters:n,linkInternalFilters:n,hierarchies:function(t,e,a){a[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:h,eVars:h,campaign:function(e,t,a){if("queryParam"===a[t].type){var n=r.parse(i.location.search);e[t]=n[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var n=a[t].map(function(e){var t=e.name;return e.value&&(t=[t,e.value].join("=")),e.id&&(t=[t,e.id].join(":")),t});e[t]=n.join(",")}};e.exports=function(t,n){var r={};n=n||{},Object.keys(n).forEach(function(e){var t=f[e],a=n[e];t?t(r,e,n):r[e]=a}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e=n&&n.events&&0<n.events.length,a=d(t,r,e);a&&(r.linkTrackVars=a);var i=p(t,n.events||[]);i&&(r.linkTrackEvents=i),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,i){"use strict";var n=a("@adobe/reactor-load-script"),o=a("@adobe/reactor-window"),s=a("@adobe/reactor-promise"),r={MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},c=function(e){return i.logger.info("Loading AppMeasurement script from: "+e+"."),n(e)},l=function(e){var t=e.production;return e[i.buildInfo.environment]&&(t=e[i.buildInfo.environment]),t.join(",")},u=function(e,t){if(!o.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+o.AppMeasurement);i.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=o.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(i.logger.info("Setting the tracker as window.s"),o.s=a),a},d=function(e){var t=l(e.libraryCode.accounts);return c(i.getHostedLibFileUrl("AppMeasurement.js")).then(u.bind(null,e,t))},p=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=l(e.libraryCode.accounts);i.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else i.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},h=function(r){return i.logger.info('Waiting for the tracker to become accessible at: "'+r+'".'),new s(function(e,t){var a=1,n=setInterval(function(){o[r]&&(i.logger.info('Found tracker located at: "'+r+'".'),e(o[r]),clearInterval(n)),10<=a&&(clearInterval(n),t(new Error('Bailing out. Cannot find the global variable name: "'+r+'".'))),a++},1e3)})},f=function(e){return h(e.libraryCode.trackerVariableName).then(p.bind(null,e))},g=function(e){if(o[e])return i.logger.info('Found tracker located at: "'+e+'".'),o[e];throw new Error('Cannot find the global variable name: "'+e+'".')},m=function(e,t){return c(e).then(g.bind(null,t.libraryCode.trackerVariableName)).then(p.bind(null,t))};e.exports=function(e){var t,a;switch(e.libraryCode.type){case r.MANAGED:a=d(e);break;case r.PREINSTALLED:a=f(e);break;case r.CUSTOM:t=e.libraryCode.source,a=m(t,e);break;case r.REMOTE:t="https:"===o.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl,a=m(t,e);break;default:throw new Error("Cannot load library. Type not supported.")}return a}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},n=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*r(e)).toString(36);return n(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+i(t)+a(t)).toUpperCase()}}}},settings:{orgId:"9AE0F0145936E3790A495CAA@AdobeOrg",customSetup:{source:function(e){function t(e){var t=_satellite.getVar("custom code - report suite id");_satellite.logger.info("Setting rsid to "+t+" doPlugins"),e.sa(t),e.prop3=e.getPreviousValue(e.pageName,"gpv_pn"),e.eVar3="D=c3";var a=e.getTimeParting("n","+1");e.prop18=e.eVar30=a,e.eVar31=e.getDaysSinceLastVisit("sc_dslv_v31"),e.pageName&&(e.eVar1="D=pageName"),e.eVar2=e.prop4="D=g",e.eVar22="D=mid",e.eVar55="D=ch",e.eVar58="D=server",e.channel=_satellite.getVar("js - content: service"),e.campaign=_satellite.getVar("custom code: campaign")}dataLayer=window.dataLayer||[{}];var a=_satellite.getVar("js - ecommerce: subscription currency code");a=void 0!==a?a.toUpperCase():"",window.location.hostname;var n=_satellite.getVar("custom code - report suite id");_satellite.logger.info("Setting rsid to "+n+" custom code"),e.sa(n),e.currencyCode=""!==a?a:"EUR",e.visitorNamespace="discoverydp",e.cookieDomainPeriods="2";var r=window.location.hostname;(0<r.indexOf(".co.uk")||0<r.indexOf(".qq.com"))&&(e.cookieDomainPeriods="3"),e._tpDST={2012:"3/25,10/28",2013:"3/31,10/27",2014:"3/30,10/26",2015:"3/29,10/25",2016:"3/27,10/30",2017:"3/26,10/29",2018:"3/25,10/28",2019:"3/31,10/27"},e.usePlugins=!0,e.doPlugins=t,e.registerPostTrackCallback(function(){_satellite.logger.info("registerPostTrackCallback function"),e.linkTrackVars=undefined,e.linkTrackEvents=undefined}),e.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),e.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),e.getTimeParting=new Function("h","z","var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMonth()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYear());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de){z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' PM';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(tm+'|'+D);}"),e.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v")}},libraryCode:{type:"managed",company:"discovf",accounts:{staging:["%custom code - report suite id%"],production:["%custom code - report suite id%"],development:["%custom code - report suite id%"]},scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"discovery",uuidCookie:{days:60,name:"aam_uuid",secure:!0}}}},trackerProperties:{charSet:"UTF-8",currencyCode:"USD",trackingServer:"discoverydp.d3.sc.omtrdc.net",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,linkExternalFilters:[],linkInternalFilters:["ad.doubleclick.net","eurosport.at","eurosport.be","eurosport.bg","eurosport.ch","eurosport.co.uk","eurosport.com","eurosport.cz","eurosport.de","eurosport.dk","eurosport.es","eurosport.fi","eurosport.fr","eurosport.gr","eurosport.hu","eurosport.ie","eurosport.it","eurosport.lu","eurosport.nl","eurosport.no","eurosport.pl","eurosport.pt","eurosport.qq.com","eurosport.ro","eurosport.rs","eurosport.ru","eurosport.se","eurosport.sk","eurosport.tr","eurosportplayer.com","eurosportplayer.cz","eurosportplayer.de","eurosportplayer.dk","eurosportplayer.fi","eurosportplayer.nl","eurosportplayer.ro","eurosportplayer.se","javascript:","mailto:","rugbyrama.fr","tel:"],trackingServerSecure:"discoverydp.d3.sc.omtrdc.net",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP971e6ad26efe44ab86e98d3905a44621/"},"data-layer-manager-search-discovery":{displayName:"Data Layer Manager",modules:{"data-layer-manager-search-discovery/src/lib/extension_main.js":{script:function(e,t,a,n){"use strict";function r(e,t){return(e.eventNames||[]).reduce(i(t),{})}function i(n){return function(e,t){var a={};return a[t.eventName]=t[n],u(e,a)}}function o(e,t){var a=t.getExtensionSettings()||{};t.logger.log("Initializing with settings",a),e.init({dataLayerName:a.dataLayerObjectName,validationSchema:r(a,"validationSchema"),eventResets:r(a,"resetBefore"),proFeatures:c.validate(a.licenseKey||{}),airbrakeConfig:a.airbrake||{},environment:t.buildInfo.environment,debug:"production"!==t.buildInfo.environment})}var s=a("./core"),c=a("./maglev"),l=a("@adobe/reactor-window"),u=a("@adobe/reactor-object-assign"),d=new s(l);setTimeout(function(){o(d,n)},0)}},"data-layer-manager-search-discovery/src/lib/core.js":{script:function(e,t,i,o){var s=i("@adobe/reactor-object-assign"),a=function(e){this.document=e.document,this.window=e,this.defaultConfig={dataLayerName:"appEventData",validationSchema:{},eventResets:{},validateEvents:!1}};s(a.prototype,{init:function(e){var t=this;this.logger=o.logger,this.config=s({},this.defaultConfig,e||{});var a=i("./validation");this.validation=a(this.window,this.config,this.logger);var n=i("./lifecycle");this.lifecycle=new n(this);var r=i("./data_layer");this.dataLayer=new r(t)},trigger:function(e){var t=this.document.createEvent("CustomEvent"),a="SDI-DLM:"+e.event;delete s({},e).event,t.initCustomEvent(a,!0,!0,e),this.window.dispatchEvent(t)}}),e.exports=a}},"data-layer-manager-search-discovery/src/lib/maglev.js":{script:function(e,t,n){function a(e,t){if(!t){var a=n("@adobe/reactor-window");t=a._satellite&&a._satellite._container&&a._satellite._container.company&&a._satellite._container.company.orgId}return r(e.base+t)===e.key}function r(i){return i=i||"",[0,1,2,3].map(function(e){var t=4*e,a=t+4,n=(i.match(/[3-9]/)||[3])[0],r=i.slice(n,parseInt(n)+16);return btoa(r).slice(t,a)}).join("-")}e.exports={},e.exports.validate=a,e.exports.generateKey=r}},"data-layer-manager-search-discovery/src/lib/validation.js":{script:function(e,t,a,n){var c=a("@adobe/reactor-object-assign"),i=a("@adobe/reactor-promise"),r=a("@adobe/reactor-load-script"),o=a("./util"),s=function(e,t,a){var n=t.validationSchema||{},r=t.airbrakeConfig||{},i=t.environment,o=t.proFeatures&&t.debug,s=l(e,o,r,i);return{validateEvent:h(o,n,a,e,i,s)}},l=function(e,t,a,n){var r=t&&a.id&&a.key;return i.all([u(t),d(r)]).then(p(e,a,n))},u=function(e){return e&&r(n.getHostedLibFileUrl("tv4.js"))},d=function(e){return e&&r(n.getHostedLibFileUrl("airbrake.min.js"))},p=function(e,t,a){return function(){e.airbrakeJs&&(e.airbrake=new e.airbrakeJs.Client({projectId:t.id,projectKey:t.key,unwrapConsole:!0,environment:a+" [Launch]"}))}},h=function(a,n,r,i,o,e){return function(t){return e.then(function(){var e={active:a,valid:null,validated:!1,errors:[]};return e=f(e,t,r),(e=g(e,t,r,i,n)).valid&&r.info("EVENT PAYLOAD VALIDATION PASSED:",t),m(i,o,t,e.errors),e})}},f=function(e,t,a){var n={};return e.active&&!t.event&&(a.error("EVENT PAYLOAD VALIDATION FAILED: Missing event name at event.event"),n={valid:!1,validated:!0,errors:e.errors.concat(["Missing event name at event.event"])}),c(e,n)},g=function(e,t,a,n,r){var i="object"==typeof r[t.event]&&0<Object.keys(r[t.event]).length,o={};if(e.active&&i){var s=n.tv4.validateMultiple(t,r[t.event]);s.errors.forEach(function(e){a.error("EVENT PAYLOAD VALIDATION FAILED:",e.message,e,t)}),s.missing.forEach(function(e){a.error("EVENT PAYLOAD VALIDATION FAILED:",e,t)}),o={valid:s.valid,validated:!0,errors:e.errors.concat(s.errors.concat(s.missing))}}return c(e,o)},m=function(t,a,n,e){var r=function(e){t.airbrake&&t.airbrake.notify(_(a,n,e))};e.forEach(r)},_=function(e,t,a){var n=o.copy(t);return delete n.__meta,{error:t.event+" : "+a.message,params:{key:a.params.key,event:t.event,code:a.code,dataPath:a.dataPath,schemaPath:a.schemaPath,message:a.message,sender:t.sender,eventPayload:n},environment:{launchEnv:e,sender:t.sender}}};e.exports=s}},"data-layer-manager-search-discovery/src/lib/lifecycle.js":{script:function(e,t,a){var n=function(e){this.logger=e.logger,this.preValidationCallbacks=[]};a("@adobe/reactor-object-assign")(n.prototype,{isPreValidationCallback:function(e){return!!e.preValidationCallback&&"object"==typeof e.preValidationCallback&&!!e.preValidationCallback.func},registerPreValidationCallback:function(e){var t=e.func,a=e.eventMatch,n=e.executionOrder;"function"!=typeof t?this.logger.error("registerPreValidationCallback - Invalid function : func must be a function"):a&&"string"!=typeof a&&a.constructor!=RegExp?this.logger.error("registerPreValidationCallback - eventMatch must be a String Literal or RegExp."):n&&"number"!=typeof n?this.logger.error("registerPreValidationCallback - executionOrder must be a number."):("string"==typeof(a=a||new RegExp(/.*/))&&(a=new RegExp("^"+a+"$")),n=n||9999,this.preValidationCallbacks.push({func:t,executionOrder:n,eventMatch:a}),this.logger.info("registerPreValidationCallback executed with ",t,n,a))}}),e.exports=n}},"data-layer-manager-search-discovery/src/lib/data_layer.js":{script:function(e,t,a){var i=a("./util"),r=a("@adobe/reactor-object-assign"),o=a("./event_processor"),n=function(e){this.logger=e.logger,this.window=e.window,this.eventResets=e.config.eventResets,this.dataLayerName=e.config.dataLayerName,this.eventProcessor=new o(e);var t=this._initializeDataLayer();if(Array.isArray(t)){var a=t.slice(0);this._augmentDataLayer(t),this.reset(),t.push.apply(t,a)}else this.logger.error("Data layer must be an Array.",this.dataLayerName)};r(n.prototype,{get:function(){return i.deepFind(this.window,this.dataLayerName)},set:function(e){i.deepSet(this.window,this.dataLayerName,e)},reset:function(){this.get().length=0},_initializeDataLayer:function(){return void 0===this.get()&&this.set([]),this.get()},_augmentDataLayer:function(e){n.addComputedState(e),this._replacePush(e),this._assignReset(e)},_assignReset:function(e){var t=this;e._reset=function(){t.reset()}},_replacePush:function(t){var a=t.push,n=this.eventProcessor.preProcessEventFn(this),r=this.eventProcessor.processEventFn(this),e=function(){var e=i.argumentsToArray(arguments).map(n);a.apply(t,e),e.forEach(r)};t.push=e}}),n.addComputedState=function(a){var n=function(){return function(e){e=void 0===e?a.length-1:e;var t=a.slice(0,e+1).filter(o.isEventObject).reduce(function(e,t){return r(e,t)},{});return delete t.event,delete t.__meta,i.copy(t)}};a.computedState||Object.defineProperty(a,"computedState",{configurable:!1,enumerable:!1,get:n()}),a._computedStateAtIndex||Object.defineProperty(a,"_computedStateAtIndex",{configurable:!1,enumerable:!1,get:n}),a._computedStateAtEvent||Object.defineProperty(a,"_computedStateAtEvent",{configurable:!1,enumerable:!1,get:function(){return function(e){var t=a.indexOf(e);return n()(t)}}})},e.exports=n}},"data-layer-manager-search-discovery/src/lib/util.js":{script:function(e){var t=function(){};t.prototype.argumentsToArray=function(e){return 1===e.length?[e[0]]:Array.apply(null,e)},t.prototype.copy=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.deepFind=function(e,t){for(var a=t.split("."),n=e,r=0;r<a.length;++r){if(n[a[r]]==undefined)return undefined;n=n[a[r]]}return n},t.prototype.deepSet=function(e,t,a){var n=t.split("."),r=n.slice(0,-1).join(".");(1===n.length?e:this.deepFind(e,r))[n.slice(-1)]=a},e.exports=new t}},"data-layer-manager-search-discovery/src/lib/event_processor.js":{script:function(e,t,a){var n=a("@adobe/reactor-object-assign"),c=a("./util"),r=function(e){this.core=e,this.logger=e.logger,this.lifecycle=e.lifecycle,this.validation=e.validation,this.proFeatures=e.config.proFeatures,this.debug=e.config.debug};n(r.prototype,{preProcessEventFn:function(e){var a=this;return function(t){return a.lifecycle.isPreValidationCallback(t)&&a.lifecycle.registerPreValidationCallback(t.preValidationCallback),r.isEventObject(t)&&a.proFeatures&&(e.eventResets[t.event]&&e.reset(),t=a._processEventCallbacks(a,t),a.debug&&a.validation.validateEvent(t).then(function(e){t.__meta=t.__meta||{},t.__meta.validationResult=e})),t}},processEventFn:function(t){var a=this;return function(e){return r.isEventObject(e)&&(r.addComputedState(t.get(),e),a.core.trigger(e)),e}},_processOneEventCallback:function(e,t,a){var n=c.copy(t);delete n.__meta;var r=c.copy(t);try{void 0===(r=a.func(c.copy(t)))&&(e.logger.error("processEventCallbacks - callback function did not return event.",a),r=c.copy(t))}catch(s){e.logger.error("processEventCallbacks failed. error:",s)}var i=c.copy(r);if(delete i.__meta,e.debug){var o={callback:{functionName:a.func.name,executionOrder:a.executionOrder,eventMatch:a.eventMatch.toString()},eventBefore:n,eventAfter:i};r.__meta.callbackSnapshots.push(o),e.logger.info("preValidationCallback executed for event: "+r.event,o)}return r},_processEventCallbacks:function(a,t){return a.debug&&(t.__meta=t.__meta||{},t.__meta.callbackSnapshots=t.__meta.callbackSnapshots||[]),t=a.lifecycle.preValidationCallbacks.filter(function(e){return t.event.match(e.eventMatch)}).sort(function(e,t){return e.executionOrder-t.executionOrder}).reduce(function(e,t){return a._processOneEventCallback(a,e,t)},t)}}),r.isEventObject=function(e){return!!e.event&&"string"==typeof e.event},r.addComputedState=function(e,t){t.__meta=t.__meta||{},t.__meta.computedState||Object.defineProperty(t.__meta,"computedState",{configurable:!1,enumerable:!1,get:function(){return e._computedStateAtEvent(t)}})},e.exports=r}}},settings:{airbrake:{id:"",key:""},eventNames:[{eventName:"gtm.dom",resetBefore:!1,validationSchema:{}}],licenseKey:{},dataLayerObjectName:"dataLayer"},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd4d7604a33b34865ae0ad2a23ed26246/"}},company:{orgId:"9AE0F0145936E3790A495CAA@AdobeOrg"},property:{name:"EUROSPORT NEWS (all sites)",settings:{domains:["eurosport.at","eurosport.be","eurosport.bg","eurosport.ch","eurosport.com","eurosport.co.uk","eurosport.cz","eurosport.de","eurosport.dk","eurosport.es","eurosport.fi","eurosport.fr","eurosport.gr","eurosport.hu","eurosport.ie","eurosport.it","eurosport.lu","eurosport.nl","eurosport.no","eurosport.pl","eurosport.pt","eurosport.ro","eurosport.rs","eurosport.ru","eurosport.se","eurosport.sk","eurosport.tr","qq.com","rugbyrama.fr"],undefinedVarsReturnEmpty:!0}},rules:[{id:"RLb83970e896244f3eb78c3084c34f3307",name:"video heartbeat: video tracking",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("custom code - report suite id");_satellite.logger.info("Setting rsid to "+a+" pre heartbeat"),t.sa(a)}},trackerProperties:{}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'/*\n * ************************************************************************\n *\n *  ADOBE CONFIDENTIAL\n *  ___________________\n *\n *   (c) Copyright 2017 Adobe Systems Incorporated\n *   All Rights Reserved.\n *\n *  NOTICE:  All information contained herein is, and remains\n *  the property of Adobe Systems Incorporated and its suppliers,\n *  if any.  The intellectual and technical concepts contained\n *  herein are proprietary to Adobe Systems Incorporated and its\n *  suppliers and may be covered by U.S. and Foreign Patents,\n *  patents in process, and are protected by trade secret or copyright law.\n *  Dissemination of this information or reproduction of this material\n *  is strictly forbidden unless prior written permission is obtained\n *  from Adobe Systems Incorporated.\n * ************************************************************************\n */\n\n/*\n * video heartbeats - 2.0.2 - 2017-04-21\n * Copyright (c) 2017 Adobe Systems, Inc. All Rights Reserved.\n */\n\n// Heartbeat core\n!function(a){if("undefined"==typeof b)var b={};if("undefined"==typeof c)var c={};if("undefined"==typeof d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),"undefined"==typeof e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},a.ObjectUtils=b}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof a&&a,this._delay="undefined"!=typeof b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){var b=this._queue[a];b.run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];return c?void c.cmd.call(c.ctx,b):void this._logger.warn(d,"#command > No command handler for: "+a)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return a<10?"00"+a:a<100?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;c<f;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if("undefined"!=typeof window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&"undefined"!=typeof window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){return b.status&&parseInt(b.status,10)>=400?this.onerror():(f[d.RESPONSE]=b.responseText,void g.dispatchEvent(new e(e.SUCCESS,f)))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="js",c="2.0.2.123",d="150f2b",e=4,f={};f.getVersion=function(){return b+"-"+c+"-"+d},f.getMajor=function(){return f.getNumberAtPosition(0)},f.getMinor=function(){return f.getNumberAtPosition(1)},f.getMicro=function(){return f.getNumberAtPosition(2)},f.getPatch=function(){return f.getNumberAtPosition(3)},f.getBuild=function(){return d},f.getApiLevel=function(){return e},f.getNumberAtPosition=function(a){return c.split(".")[a]},a.Version=f}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount="undefined"!=typeof c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){var a=(new Date).getTime();return a>this._nextTickTimestamp-f/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},b.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b="undefined"!=typeof b&&b,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b="undefined"!=typeof b&&b,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return!!b&&!b.isActive},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n\n// VideoPlayerPlugin\n!function(a){if("undefined"==typeof b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,h),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var d=a.plugin.ParamMapping,e=a.Trigger,f=a.plugin.BasePlugin,g=b.VideoPlayerPluginConfig;a.extend(c,f),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof g))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.bootstrap=function(a){c.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},c.prototype._cmdVideoIdleStart=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},c.prototype._cmdVideoIdleResume=function(a){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(o),this._trigger(p),a.isInChapter&&this._trigger(A),a.isInAd&&(this._trigger(u),this._isTrackingAd=!0)),this._videoIdle=!1},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(o),this._isTrackingSessionStarted=!0;var a=this._dataResolver(["video.resumed"]);a.hasOwnProperty("video.resumed")&&a["video.resumed"]&&this._trigger(p)}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(m),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(n),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(s),this._startPlayheadTimer())},c.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var a={};a[H]=!1,this._trigger(t,a)}},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(w))},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(x),this._startPlayheadTimer())},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(y))},c.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(z),this._startPlayheadTimer();var a=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=a.hasOwnProperty("ad.isInAd")&&a["ad.isInAd"]}},c.prototype.trackComplete=function(a){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var b={};b[G]=a,this._stopPlayheadTimer(),this._trigger(q,b)}},c.prototype.trackTimedMetadata=function(a){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(r,a)},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(A)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(B)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(u),this._isTrackingAd=!0)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(v),this._isTrackingAd=!1)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(C)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[I]=l,b[J]=a,this._trigger(D,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[I]=k,b[J]=a,this._trigger(D,b)}},c.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},c.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new e(j,E),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new e(j,F),this,"handleVideoIdleResume",[new d(i,"ad.isInAd","isInAd"),new d(i,"chapter.isInChapter","isInChapter")])},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["video.resumed"]=function(){var b=a(),c=!!b&&b.resumed;return h._logger.debug(h._logTag,"Resolving video.resumed: "+c),c},f["video.playheadStalled"]=function(){return this._playheadStalled},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(t)))},c.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(s)))},c.prototype._startPlayheadTimer=function(){var a=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(a._canProcess()){var b=a._dataResolver(["ad.isInAd","video.playhead"]);if(a._isTrackingAd)a._playheadStalled&&a._trackExitStall(),b.hasOwnProperty("ad.isInAd")&&!b["ad.isInAd"]&&(a._isTrackingAd=!1);else{var c=b["video.playhead"];c!=a._previousPlayhead?a._trackExitStall():a._previousPlayhead>=0&&c==a._previousPlayhead&&(a._stalledPlayheadCount++,a._stalledPlayheadCount==L&&a._trackPlayheadStall()),a._previousPlayhead=c}}},K))},c.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)};var h="player",i=h,j="adobe-heartbeat",k="sourceErrorExternal",l="sourceErrorSDK",m="video_load",n="video_unload",o="video_start",p="video_resume",q="video_complete",r="timed_metadata",s="play",t="pause",u="ad_start",v="ad_complete",w="buffer_start",x="buffer_complete",y="seek_start",z="seek_complete",A="chapter_start",B="chapter_complete",C="bitrate_change",D="track_error",E="video_idle_start",F="video_idle_resume",G="callback",H="filter_report",I="source",J="error_id",K=1001,L=2;b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this);\n\n// AdobeHeartbeatPlugin\n!function(a){if("undefined"==typeof b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=60,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(h,this._onCheckStatusComplete,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="idle",f=1800;b.clock.IdleTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c),this._idleTimer=new g(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer,g=b.clock.IdleTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_RESUME="resume",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_STALL="stall",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.audienceManagerBlob(a.audienceManagerBlob()),this.audienceManagerLocationHint(a.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var d=b.model.Dao;a.extend(c,d),b.model.AudienceManagerDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j,this.filterReport=!0}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j,k){this.adobeAnalyticsData=a,this.userData=b,this.aamData=c,this.serviceProviderData=i,this.sessionData=j,this.eventData=new e(k.eventData),this.assetData=new f(k.assetData),this.streamData=new g(k.streamData),this.qosData=new h(k.qosData),this.cuserData=d.clone(k.cuserData),this.meta=d.clone(k.meta),this.callback=k.callback,this.filterReport=k.filterReport}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao;b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeDao(a.aamData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){var b=this._processDao(a);return b.filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b?b:"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,i,j;if(window.DOMParser){var k=new window.DOMParser;j=k.parseFromString(this._data,"text/xml")}else j=new window.ActiveXObject("Microsoft.XMLDOM"),j.async=!1,j.loadXML(this._data);var l;l=parseInt(j.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),l&&(a=l),l=parseInt(j.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),l&&(b=l),l=parseInt(j.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),l&&(c=1==l),j.getElementsByTagName("nielsenEnabled")[0]?(l=parseInt(j.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),i=1==l):i=!0;var m={};return m[e]=a,m[f]=b,m[g]=c,m[h]=i,this._logger.debug(d,"#parse() > Obtained configuration settings."),m};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors",h="nielsen_enabled";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onUpdateVisitorOptOut=function(a){var b=a.data;this._logger.debug(j,"#_onUpdateVisitorOptOut(visitor_opt_out="+b[q]+")"),this._visitorOptedOut=b[q]},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&c.eventData&&this._prevReportSent.eventData.playhead==c.eventData.playhead&&this._prevReportSent.eventData.ts==c.eventData.ts&&this._prevReportSent.eventData.prevTs==c.eventData.prevTs&&this._prevReportSent.eventData.type==c.eventData.type)return void this._logger.debug(j,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\\n"+i);this._prevReportSent=c;var k=new f(i,e.GET);this._logger.debug(j,"#_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(v,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(r,this._onApiConfig,this),this._channel.on(s,this._onUpdateVisitorOptOut,this),this._channel.on(t,this._onFilterReportAvailable,this),this._channel.on(u,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="visitor_opt_out",r="api:config",s="api:update_visitor_optout",t="filter:data_available",u="clock:check_status.tick",v="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];return a&&a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_PAUSE||a.eventData.type()==k.EVENT_TYPE_STALL?(!a.filterReport||a.eventData.duration()>u)&&b.push(a):b.push(a)}),b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?b==-1?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):c==-1?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){a.eventData.type()!=k.EVENT_TYPE_PLAY&&a.eventData.type()!=k.EVENT_TYPE_BUFFER&&a.eventData.type()!=k.EVENT_TYPE_START||b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners(),this.clear())},c.prototype.clear=function(){this._logger.debug(w,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},c.prototype.flush=function(){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(v),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this.flush()},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u=250,v="session_id",w="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!a.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===a.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!a.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===a.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;\nc.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=fa,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new j,this._serviceProviderData=new k,this._userData=new l,this._aamData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new h(y,a))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var f=c.md5,g=c.ObjectUtils,h=a.Event,i=d.model.SessionDao,j=d.model.AdobeAnalyticsDao,k=d.model.ServiceProviderDao,l=d.model.UserDao,m=d.model.AudienceManagerDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),this._aamData.audienceManagerBlob(b.blob),this._aamData.audienceManagerLocationHint(b.loc_hint),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){var b=a.data;this._logger.debug(w,"#_onApiVideoLoad(rsid="+b.rsid+", aa_trackingServer="+b.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(b,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},e.prototype._onApiVideoUnload=function(a){return this._logger.debug(w,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.")},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._activeAssetId=b.videoId,this._serviceProviderData.playerName(b.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._updateQoSInfo(b);var c=b.metaNielsen?g.merge(b.metaVideo,b.metaNielsen):b.metaVideo,d=new t(this,n.EVENT_TYPE_START,b.playhead,c,b._eventData[E]);this._sendHit(d)}},e.prototype._onApiVideoResume=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoResume(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=b.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.name(b.videoName),this._streamData.type(b.streamType);var c=new t(this,n.EVENT_TYPE_RESUME,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[E]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=b.playheadStalled?n.EVENT_TYPE_STALL:n.EVENT_TYPE_PAUSE,d=new t(this,c,b.playhead,null,b._eventData[E]);b._eventData.hasOwnProperty(F)&&(d.filterReport=b._eventData[F]),this._sendHit(d)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiSeekStart=function(a){this._logger.debug(w,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},e.prototype._onApiSeekComplete=function(a){this._logger.debug(w,"#_onApiSeekComplete()");var b=a.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(b.isInAd){if(!this._inputDataValidator.validateFields(b,["adId","adPosition","podPosition","podPlayerName"]))return;var c=f(this._assetData.videoId())+"_"+b.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==c&&parseInt(this._stashedAdData.podPosition(),10)==b.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=b.adId;var d=new r;d.adId(this._activeAssetId),d.adName(b.adName),d.adLength(b.adLength),d.podId(c),d.resolver(b.podPlayerName),d.podPosition(b.podPosition+""),d.podName(b.podName),d.podOffset(b.podSecond),d.sid(this._generateSessionId()),this._assetData.adData(d)}this._assetData.type(o.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(b.isInChapter){if(!this._inputDataValidator.validateFields(b,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&b.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var e=new s;e.id(f(this._assetData.videoId())+"_"+b.chapterPosition),e.name(b.chapterName),e.length(b.chapterLength),e.position(b.chapterPosition),e.offset(b.chapterOffset),e.sid(this._generateSessionId()),this._assetData.chapterData(e)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=b.adId;var c=new r;c.adId(this._activeAssetId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(f(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(this._generateSessionId()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaAd);d=b.metaNielsen?g.merge(d,b.metaNielsen):d;var e=new t(this,n.EVENT_TYPE_START,b.playhead,d,b._eventData[E]);this._sendHit(e)}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[E]);this._sendHit(c),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(f(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(this._generateSessionId()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=g.merge(b.metaVideo,b.metaChapter),e=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,d,b._eventData[E]);e.assetData.adData(null),e.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(e)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[E]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[E]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[E]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){var b=a.data;this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")"),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(b.playhead),this._updateQoSInfo(b),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[I],this._reportingInterval=b[J],this._reportingInterval||(this._reportingInterval=fa),this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._onResetSessionId=function(a){var b=this._generateSessionId();this._sessionData=new i,this._sessionData.sessionId(b),this._logger.debug(w,"#_resetSessionId(new sessionId="+b+")")},e.prototype._installEventListeners=function(){this._channel.on(K,this._onApiAnalyticsStart,this),this._channel.on(L,this._onApiAnalyticsAdStart,this),this._channel.on(M,this._onApiVideoLoad,this),this._channel.on(N,this._onApiVideoUnload,this),this._channel.on(O,this._onApiVideoStart,this),this._channel.on(P,this._onApiVideoComplete,this),this._channel.on(Q,this._onApiVideoResume,this),this._channel.on(R,this._onApiAdStart,this),this._channel.on(S,this._onApiAdComplete,this),this._channel.on(T,this._onApiPlay,this),this._channel.on(U,this._onApiPause,this),this._channel.on(V,this._onApiBufferStart,this),this._channel.on(W,this._onApiSeekStart,this),this._channel.on(X,this._onApiSeekComplete,this),this._channel.on(Y,this._onApiChapterStart,this),this._channel.on(Z,this._onApiChapterComplete,this),this._channel.on(aa,this._onApiBitrateChange,this),this._channel.on($,this._onApiTrackError,this),this._channel.on(_,this._onApiTrackInternalError,this),this._channel.on(ba,this._onApiQuantumEnd,this),this._channel.on(da,this._onNetworkCheckStatusComplete,this),this._channel.on(D,this._onResetSessionId,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new p,this._qosData=new q,this._sessionData=new i,this._assetData=new o,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},e.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?!this._isVideoComplete||(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._updateLastInBandItem=function(a){var b=(new Date).getTime(),c=1e3*Math.abs(a.eventData.playhead()-this._lastInBandItem.eventData.playhead()),d=Math.abs(b-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=n.EVENT_TYPE_STALL?(c<=d*ea||this._doNotOverrideEventDuration)&&d<=this._reportingInterval*ea*1e3?this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()):(this._logger.warn(w,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+c+" tsDelta:"+d+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(b-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(b),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden},e.prototype._sendHit=function(a){function b(a){var b=c._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(c._autoComputedStartupTime);var e={};e[G]=b,c._channel.trigger(new h(ca,e)),b.eventData.type()!=n.EVENT_TYPE_PLAY&&b.eventData.type()!=n.EVENT_TYPE_BUFFER&&b.eventData.type()!=n.EVENT_TYPE_START||(d={},d[H]=!0,c._channel.command(z,d))}var c=this,d={};switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_STALL:case n.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(a),this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),a!=this._lastInBandItem&&b(this._lastInBandItem)),b(a),this._lastInBandItem=a,d={},d[H]=!0,this._channel.command(z,d);break;case n.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(a.assetData.type()==o.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),a.assetData.type()==o.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,d={},d[H]=!0,this._channel.command(A,d)):a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(a),b(this._lastInBandItem)),b(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),b(this._lastInBandItem));break;default:b(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="reset_session_id",E="callback",F="filter_report",G="report",H="reset",I="track_external_errors",J="reporting_interval",K="api:aa_start",L="api:aa_ad_start",M="api:video_load",N="api:video_unload",O="api:video_start",P="api:video_complete",Q="api:video_resume",R="api:ad_start",S="api:ad_complete",T="api:play",U="api:pause",V="api:buffer_start",W="api:seek_start",X="api:seek_complete",Y="api:chapter_start",Z="api:chapter_complete",$="api:track_error",_="api:track_internal_error",aa="api:bitrate_change",ba="api:quantum_end",ca="context:report_available",da="net:check_status_complete",ea=1.5,fa=10;d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(y),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[ba]=this._config.trackingServer,c[ca]=b,c[da]=this._config.publisher,c[ea]=this._config.quietMode,c[fa]=this._config.ssl,this._channel.trigger(new e(ja,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(z,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(Ea),this._channel.trigger(new e(La)),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){if(this._canProcess()){var b={};b[ga]=a.visitorOptedOut,this._channel.trigger(new e(ka,b)),this._channel.trigger(new e(ha,a))}},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e(ia,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ma,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new e(la,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ma,a)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoStart=function(a){this._canProcess()&&this._channel.trigger(new e(na,a))},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(oa,a))},d.prototype._cmdVideoResume=function(a){this._canProcess()&&this._channel.trigger(new e(pa,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(ta,a)),this._isPaused=!0,this._runIdleTimer(!0))},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(qa,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(ra,a)),a.isInAdBreak||this._resumePlaybackIfPossible(a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ua,a)),this._isBuffering=!0,this._runIdleTimer(!0))},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(va,a)),this._channel.trigger(new e(ta,a)),this._isSeeking=!0,this._runIdleTimer(!0))},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(wa,a)),this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(xa,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(ya,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(Ba,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(za,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(Ca,a))},d.prototype._cmdIdleTick=function(a){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(V),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(T))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[_]=Da,b[aa]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(Aa,b)),this._runReportingTimer(!1),this._trigger(z,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._runIdleTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ja,b):this._channel.command(Ka,b)},d.prototype._runFlushFilterTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Ha,b):this._channel.command(Ia,b)},d.prototype._runReportingTimer=function(a){var b={};b[$]=!0,a?this._channel.command(Fa,b):this._channel.command(Ga,b)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoLoad",[new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,E),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(u,"meta","metaNielsen"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoResume",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"video.playheadStalled","playheadStalled"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),\nthis._pluginManager.registerBehaviour(new f(t,P),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter"),new h(u,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(t,Q),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,R),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,S),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(v,X),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(v,Z),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new f(r,V),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,z),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,A),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(s,"visitorOptedOut","visitorOptedOut"),new h(s,"blob","blob"),new h(s,"loc_hint","loc_hint"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,B),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return!!b._config&&b._config.quietMode},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return!!b._config&&b._config.__isPrimetime},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},a.session_id=function(){return b._channel.request(w)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new e(sa,a)))},d.prototype._resumePlaybackFromIdle=function(){this._trigger(V),this._filter.clear(),this._channel.trigger(new e(x)),this._trigger(U),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="nielsen",v="service.clock",w="session_id",x="reset_session_id",y="heartbeat-channel",z="error",A="aa_start",B="sc_ad_start",C="video_load",D="video_unload",E="video_start",F="video_resume",G="video_complete",H="play",I="pause",J="ad_start",K="ad_complete",L="buffer_start",M="buffer_complete",N="seek_start",O="seek_complete",P="chapter_start",Q="chapter_complete",R="bitrate_change",S="track_error",T="video_idle_start",U="video_idle_resume",V="quantum_close",W="heartbeat.reporting",X=W+".tick",Y="heartbeat.idle",Z=Y+".tick",$="reset",_="source",aa="error_id",ba="tracking_server",ca="check_status_server",da="publisher",ea="quiet_mode",fa="ssl",ga="visitor_opt_out",ha="api:aa_start",ia="api:aa_ad_start",ja="api:config",ka="api:update_visitor_optout",la="api:video_load",ma="api:video_unload",na="api:video_start",oa="api:video_complete",pa="api:video_resume",qa="api:ad_start",ra="api:ad_complete",sa="api:play",ta="api:pause",ua="api:buffer_start",va="api:seek_start",wa="api:seek_complete",xa="api:chapter_start",ya="api:chapter_complete",za="api:track_error",Aa="api:track_internal_error",Ba="api:bitrate_change",Ca="api:quantum_end",Da="sourceErrorHeartbeat",Ea="clock:check_status.resume",Fa="clock:reporting.resume",Ga="clock:reporting.pause",Ha="clock:flush_filter.resume",Ia="clock:flush_filter.pause",Ja="clock:idle.resume",Ka="clock:idle.pause",La="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this);\n\n// AdobeAnalyticsPlugin\n!function(a){if("undefined"==typeof b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=a,this._delegate=b,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,w),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails());var b=this;setTimeout(function(){b._trigger(x,a),b._delegate&&b._delegate.onError(b._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(x,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var a=0;a<this._customMetaKeys.length;a++){var b=this._customMetaKeys[a];delete this._appMeasurement.contextData[b]}this._customMetaKeys=[]},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+", sessionId="+a.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var b in a.metaVideo)a.metaVideo.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaVideo[b],this._customMetaKeys.push(b));if(a.metaNielsen)for(var b in a.metaNielsen)a.metaNielsen.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaNielsen[b],this._customMetaKeys.push(b));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.pev3=y,this._appMeasurement.pe=a.isPrimetime?B:A,this._appMeasurement.track();var c=this;setTimeout(function(){c._trigger(E,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond,this._resetAppMeasurementContextData();var c;for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaVideo[c],this._customMetaKeys.push(c));for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaAd[c],this._customMetaKeys.push(c));if(a.metaNielsen)for(var c in a.metaNielsen)a.metaNielsen.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaNielsen[c],this._customMetaKeys.push(c));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.vsid"]=a.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=a.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=a.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=a.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(a.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=a.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=b,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=z,this._appMeasurement.pe=a.isPrimetime?D:C,this._appMeasurement.track();var d=this;setTimeout(function(){d._trigger(F,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.blob=function(){return b._appMeasurement.audienceManagerBlob},a.loc_hint=function(){return b._appMeasurement.audienceManagerLocationHint?parseInt(b._appMeasurement.audienceManagerLocationHint):""},a.customerIDs=function(){var a=b._appMeasurement.visitor.getCustomerIDs(),c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?c[d+".as"]=e[f]:c[d+"."+f]=e[f]);c[d+".as"]||(c[d+".as"]="0")}}return c},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},a.visitorOptedOut=function(){return void 0!=b._appMeasurement.visitorOptedOut&&b._appMeasurement.visitorOptedOut},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(u,G),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(u,H),this,"handleVideoStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"video.playerName","playerName"),new h(u,"video.streamType","streamType"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(u,I),this,"handleAdStart",[new h(u,"video.id","videoId"),new h(u,"video.streamType","streamType"),new h(u,"video.playhead","playhead"),new h(u,"video.playerName","playerName"),new h(u,"video.name","videoName"),new h(u,"video.length","videoLength"),new h(u,"ad.id","adId"),new h(u,"ad.length","adLength"),new h(u,"ad.position","adPosition"),new h(u,"ad.name","adName"),new h(u,"pod.name","podName"),new h(u,"pod.position","podPosition"),new h(u,"pod.playerName","podPlayerName"),new h(u,"pod.startTime","podSecond"),new h(v,"is_primetime","isPrimetime"),new h(v,"session_id","sessionId"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd"),new h(t,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new f(v,x),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var r="adobe-analytics",s=r,t="nielsen",u="player",v="adobe-heartbeat",w=2e3,x="error",y="video",z="videoAd",A="ms_s",B="msp_s",C="msa_s",D="mspa_s",E="aa_start",F="sc_ad_start",G="video_load",H="video_start",I="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";var b={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},c={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};a.VideoMetadataKeys=b,a.AdMetadataKeys=c}(b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this);\n\n// MediaHeartbeat\n!function(a){!function(a){"use strict";function b(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}a.MediaHeartbeatConfig=b,a.MediaHeartbeatConfig.sharedInstance=new b}(a.ADB.va),function(a){"use strict";function b(){this.data={}}var c=a.plugins.videoplayer.VideoInfo,d=a.plugins.videoplayer.AdBreakInfo,e=a.plugins.videoplayer.AdInfo,f=a.plugins.videoplayer.ChapterInfo,g=a.plugins.videoplayer.QoSInfo;b.MEDIAINFO_KEY_NAME="a.name",b.MEDIAINFO_KEY_VIDEOID="a.videoId",b.MEDIAINFO_KEY_ADID="a.adId",b.MEDIAINFO_KEY_LENGTH="a.length",b.MEDIAINFO_KEY_PLAYHEAD="a.playhead",b.MEDIAINFO_KEY_STREAMTYPE="a.streamType",b.MEDIAINFO_KEY_POSITION="a.position",b.MEDIAINFO_KEY_STARTTIME="a.startTime",b.MEDIAINFO_KEY_BITRATE="a.bitrate",b.MEDIAINFO_KEY_FPS="a.fps",b.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",b.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",b.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",b.prototype.setValue=function(a,b){this.data[a]=b},b.prototype.getValue=function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},b.prototype.createVideoInfo=function(){var a=new c;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_VIDEOID)?this.getValue(b.MEDIAINFO_KEY_VIDEOID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.playhead=null!=this.getValue(b.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(b.MEDIAINFO_KEY_PLAYHEAD):0,a.streamType=null!=this.getValue(b.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(b.MEDIAINFO_KEY_STREAMTYPE):"",a},b.prototype.createAdBreakInfo=function(){var a=new d;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a},b.prototype.createAdInfo=function(){var a=new e;return a.id=null!=this.getValue(b.MEDIAINFO_KEY_ADID)?this.getValue(b.MEDIAINFO_KEY_ADID):"",a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createChapterInfo=function(){var a=new f;return a.name=null!=this.getValue(b.MEDIAINFO_KEY_NAME)?this.getValue(b.MEDIAINFO_KEY_NAME):"",a.length=null!=this.getValue(b.MEDIAINFO_KEY_LENGTH)?this.getValue(b.MEDIAINFO_KEY_LENGTH):0,a.startTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTTIME)?this.getValue(b.MEDIAINFO_KEY_STARTTIME):0,a.position=null!=this.getValue(b.MEDIAINFO_KEY_POSITION)?this.getValue(b.MEDIAINFO_KEY_POSITION):0,a},b.prototype.createQoSInfo=function(){var a=new g;return a.bitrate=null!=this.getValue(b.MEDIAINFO_KEY_BITRATE)?this.getValue(b.MEDIAINFO_KEY_BITRATE):0,a.fps=null!=this.getValue(b.MEDIAINFO_KEY_FPS)?this.getValue(b.MEDIAINFO_KEY_FPS):0,a.droppedFrames=null!=this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(b.MEDIAINFO_KEY_DROPPEDFRAMES):0,a.startupTime=null!=this.getValue(b.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(b.MEDIAINFO_KEY_STARTUPTIME):0,a},a.MediaObject=b}(a.ADB.va),function(a,b){"use strict";function c(a){c.__super__.constructor.call(this),this._heartbeat=a}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}function e(a){e.__super__.constructor.call(this),this._heartbeat=a}function f(a){f.__super__.constructor.call(this),this._heartbeat=a}a.extend(c,b.plugins.aa.AdobeAnalyticsPluginDelegate),c.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(d,b.plugins.ah.AdobeHeartbeatPluginDelegate),d.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(e,b.HeartbeatDelegate),e.prototype.onError=function(a){b.MediaHeartbeat._onDelegateError.call(this._heartbeat,a)},a.extend(f,b.plugins.videoplayer.VideoPlayerPluginDelegate),f.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},f.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},f.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},f.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},f.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var a=this._heartbeat._delegate.getQoSObject();if(a&&"object"==typeof a&&a.setValue)return a.createQoSInfo()}return null},b._MediaAnalyticsPluginDelegate=c,b._MediaHeartbeatPluginDelegate=d,b._ADBMediaHeartbeatDelegate=e,b._MediaHeartbeatVideoPlayerPluginDelegate=f}(a.ADB.core,a.ADB.va),function(a,b){"use strict";function c(){}function d(a){d.__super__.constructor.call(this),this._heartbeat=a}var e=b.MediaHeartbeatConfig;b.plugins.nielsen&&(c.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA="media_nielsen_content_metadata",c.MEDIAHEARTBEAT_NIELSEN_AD_METADATA="media_nielsen_ad_metadata",c.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA="media_nielsen_channel_metadata",e.prototype.nielsenConfigKey=void 0,e.prototype.nielsenAppInfo=void 0,a.extend(d,b.plugins.nielsen.NielsenPluginDelegate),d.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var a=this._heartbeat._currentContentMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA);if("object"==typeof a)return a}return null},d.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdMediaObject){var a=this._heartbeat._currentAdMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_AD_METADATA);if("object"==typeof a)return a}return null},d.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentContentMediaObject){var a=this._heartbeat._currentContentMediaObject.getValue(c.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA);if("object"==typeof a)return a}return null},d.prototype.onError=function(a){this._heartbeat&&b.MediaHeartbeat._onError.call(this._heartbeat,a)},b._MediaHeartbeatNielsen=c,b._MediaHeartbeatNielsenPluginDelegate=d)}(a.ADB.core,a.ADB.va),function(b,c){"use strict";function d(){}function e(b,d,e){if(this._logger=new z,this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._currentContentMediaObject=void 0,this._currentAdMediaObject=void 0,this._videoInfo=void 0,this._adBreakInfo=void 0,this._adInfo=void 0,this._chapterInfo=void 0,this._state={},this._delegate=b,e)this.appMeasurement=e;else{if(!a.s)return void this._logger.error($,"Valid AppMeasurement instance required for initialising MediaHeartbeat");this.appMeasurement=a.s}d&&"object"==typeof d&&void 0!=d.trackingServer?(this._config=d,c.MediaHeartbeat._debugLogging||this._config.debugLogging?this._logger.enable():this._logger.disable()):this._logger.error($,"Valid config required for initialising MediaHeartbeat")}function f(a,b){if(a==e.Event.AdBreakStart){if(this._logger.info($,"#::trackEvent(AdBreakStart)"),!t.call(this,Y))return void this._logger.error($,"API call trackEvent:AdBreakStart is unsupported in the current state.");b&&"object"==typeof b&&b.setValue?(this._adBreakInfo=b.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:""):this._logger.error($,"Invalid AdBreak Info for MediaHeartbeatEvent.AdBreakStart event.")}else{if(this._logger.info($,"#::trackEvent(AdBreakComplete)"),!t.call(this,Y,!0))return void this._logger.error($,"API call trackEvent:AdBreakComplete is unsupported in the current state.");this._adBreakInfo=void 0}}function g(a,b,c){if(a==e.Event.AdStart){if(this._logger.info($,"#::trackEvent(AdStart)"),!t.call(this,X))return void this._logger.error($,"API call trackEvent:AdStart is unsupported in the current state.");if(b&&"object"==typeof b&&b.setValue){this._currentAdMediaObject=b,this._adInfo=b.createAdInfo();var d=b.getValue(e.MediaObjectKey.StandardAdMetadata);if(d&&"object"==typeof d)for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f]);this._aaPlugin&&this._aaPlugin.setAdMetadata(c),this._playerPlugin.trackAdStart(),this._state[Z]||this._state[S]||this.trackPlay()}else this._logger.error($,"Invalid Ad Info for MediaHeartbeatEvent.AdStart event.")}else if(a==e.Event.AdComplete){if(this._logger.info($,"#::trackEvent(AdComplete)"),!t.call(this,X,!0))return void this._logger.error($,"API call trackEvent:AdComplete is unsupported in the current state.");this._playerPlugin.trackAdComplete(),this._adInfo=null}else{if(this._logger.info($,"#::trackEvent(AdSkip)"),!t.call(this,X,!0))return void this._logger.error($,"API call trackEvent:AdSkip is unsupported in the current state.");this._adInfo=null}}function h(a){if(a==e.Event.SeekStart){if(this._logger.info($,"#::trackEvent(SeekStart)"),!t.call(this,V))return void this._logger.error($,"API call trackEvent:SeekStart is unsupported in the current state.");this._playerPlugin.trackSeekStart()}else{if(this._logger.info($,"#::trackEvent(SeekComplete)"),!t.call(this,V,!0))return void this._logger.error($,"API call trackEvent:SeekComplete is unsupported in the current state.");this._playerPlugin.trackSeekComplete()}}function i(a,b,c){if(a==e.Event.ChapterStart){if(this._logger.info($,"#::trackEvent(ChapterStart)"),!t.call(this,W))return void this._logger.error($,"API call trackEvent:ChapterStart is unsupported in the current state.");b&&"object"==typeof b&&b.setValue?(this._chapterInfo=b.createChapterInfo(),this._aaPlugin&&this._aaPlugin.setChapterMetadata(c),this._playerPlugin.trackChapterStart(),this._state[Z]||this._state[S]||this.trackPlay()):this._logger.error($,"Invalid Chapter Info for MediaHeartbeatEvent.ChapterStart event.")}else if(a==e.Event.ChapterComplete){if(this._logger.info($,"#::trackEvent(ChapterComplete)"),!t.call(this,W,!0))return void this._logger.error($,"API call trackEvent:ChapterComplete is unsupported in the current state.");this._chapterInfo=null,this._playerPlugin.trackChapterComplete()}else{if(this._logger.info($,"#::trackEvent(ChapterSkip)"),!t.call(this,W,!0))return void this._logger.error($,"API call trackEvent:ChapterSkip is unsupported in the current state.");this._chapterInfo=null}}function j(a){if(a==e.Event.BufferStart){if(this._logger.info($,"#::trackEvent(BufferStart)"),!t.call(this,U))return void this._logger.error($,"API call trackEvent:BufferStart is unsupported in the current state.");this._playerPlugin.trackBufferStart()}else{if(this._logger.info($,"#::trackEvent(BufferComplete)"),!t.call(this,U,!0))return void this._logger.error($,"API call trackEvent:BufferComplete is unsupported in the current state.");this._playerPlugin.trackBufferComplete()}}function k(){return this._logger.info($,"#::trackEvent(BitrateChange)"),w.call(this)?void this._playerPlugin.trackBitrateChange():void this._logger.error($,"API call trackEvent:BitrateChange is unsupported in the current state.")}function l(a){if(this._logger.info($,"#::trackEvent(TimedMetadataUpdate)"),a&&"object"==typeof a&&a.setValue){var b=a.getValue(B.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin&&b&&"string"==typeof b&&this._playerPlugin.trackTimedMetadata(b)}}function m(){this._aaPlugin=new I(this.appMeasurement,new K(this));var a=new J;a.channel=this._config.channel?this._config.channel:"",a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(a),this._plugins.push(this._aaPlugin)}function n(){this._ahPlugin=new L(new N(this));var a=new M(this._config.trackingServer,this.appMeasurement.visitor.marketingCloudOrgID);a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.ovp=this._config.ovp?this._config.ovp:"",a.ssl=this._config.ssl,a.sdk=this._config.appVersion?this._config.appVersion:"";var b=s.call(this);b&&b.length>0&&(a.__primetime=!0,a.__psdkVersion=b),this._ahPlugin.configure(a),this._plugins.push(this._ahPlugin)}function o(){this._playerPlugin=new F(new H(this));var a=new G;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(a),this._plugins.push(this._playerPlugin)}function p(){if(c.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new c.plugins.nielsen.NielsenPlugin(new c._MediaHeartbeatNielsenPluginDelegate(this));var a=new c.plugins.nielsen.NielsenPluginConfig;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,a.appInfo=this._config.nielsenAppInfo,a.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(a),this._plugins.push(this._nielsenPlugin)}}function q(){var a=new D;a.debugLogging=c.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new C(new E(this),this._plugins),this._heartbeat.configure(a)}function r(a){this._logger.error($,a.getMessage()+" | "+a.getDetails())}function s(){return this._currentContentMediaObject?this._currentContentMediaObject.getValue(_):null}function t(a,b){if(a!=Q&&(!this._state[Q]||this._state[T]))return!1;a===R&&u.call(this);var c=!(a===Y&&!b);if(c&&(b?!this._state[a]:this._state[a]))return!1;switch(a){case R:this._state[S]=b,this._state[Z]=!0;break;case S:this._state[R]=b;break;case Y:if(!b&&this._state[X])return!1;break;case X:if(!b&&!this._state[Y])return!1}return this._state[a]=!b,!0}function u(){this._state[V]&&this.trackEvent(e.Event.SeekComplete),this._state[U]&&this.trackEvent(e.Event.BufferComplete)}function v(a){this._state[a]=!1}function w(){return this._state[Q]}function x(){this._state={}}function y(){this._plugins=[],this._aaPlugin=null,this._ahPlugin=null,this._playerPlugin=null,this._nielsenPlugin=null,this._heartbeat&&(this._heartbeat.destroy(),this._heartbeat=null)}var z=b.Logger,A=c.plugins.videoplayer.AssetType,B=c.MediaObject,C=c.Heartbeat,D=c.HeartbeatConfig,E=c._ADBMediaHeartbeatDelegate,F=c.plugins.videoplayer.VideoPlayerPlugin,G=c.plugins.videoplayer.VideoPlayerPluginConfig,H=c._MediaHeartbeatVideoPlayerPluginDelegate,I=c.plugins.aa.AdobeAnalyticsPlugin,J=c.plugins.aa.AdobeAnalyticsPluginConfig,K=c._MediaAnalyticsPluginDelegate,L=c.plugins.ah.AdobeHeartbeatPlugin,M=c.plugins.ah.AdobeHeartbeatPluginConfig,N=c._MediaHeartbeatPluginDelegate;if(d.prototype.getCurrentPlaybackTime=function(){return null},d.prototype.getQoSObject=function(){return null},e.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},e.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear"},e.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed"},e.VideoMetadataKeys=c.plugins.aa.VideoMetadataKeys,e.AdMetadataKeys=c.plugins.aa.AdMetadataKeys,e.version=function(){return c.Version.getVersion()},e.prototype.trackSessionStart=function(a,b){if(this._logger.info($,"#::trackSessionStart()"),!t.call(this,Q))return void this._logger.error($,"API call trackSessionStart is unsupported in the current state.");if(!a||"object"!=typeof a||!a.setValue)return v.call(this,Q),void this._logger.error($,"Invalid Media Info object");this._currentContentMediaObject=a,this._videoInfo=a.createVideoInfo(),this._videoInfo.playerName=void 0!=this._config.playerName?this._config.playerName:"";var c=a.getValue(e.MediaObjectKey.StandardVideoMetadata);if(c&&"object"==typeof c)for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);var f=a.getValue(e.MediaObjectKey.VideoResumed);f&&"boolean"==typeof f&&(this._videoInfo.resumed=a.getValue(e.MediaObjectKey.VideoResumed)),P.call(this),this._playerPlugin&&(this._aaPlugin&&this._aaPlugin.setVideoMetadata(b),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart())},e.prototype.trackPlay=function(){return this._logger.info($,"#::trackPlay()"),t.call(this,R)?void this._playerPlugin.trackPlay():void this._logger.error($,"API call trackPlay is unsupported in the current state.")},e.prototype.trackPause=function(){return this._logger.info($,"#::trackPause()"),t.call(this,S)?void(this._playerPlugin&&this._playerPlugin.trackPause()):void this._logger.error($,"API call trackPause is unsupported in the current state.")},e.prototype.trackComplete=function(){return this._logger.info($,"#::trackComplete()"),t.call(this,T)?void(this._playerPlugin&&this._playerPlugin.trackComplete(function(){})):void this._logger.error($,"API call trackComplete is unsupported in the current state.")},e.prototype.trackSessionEnd=function(){return this._logger.info($,"#::trackSessionEnd()"),t.call(this,Q,!0)?(this._playerPlugin&&this._playerPlugin.trackVideoUnload(),x.call(this),void y.call(this)):(x.call(this),y.call(this),void this._logger.error($,"API call trackSessionEnd is unsupported in the current state."))},e.prototype.trackError=function(a){return this._logger.info($,"#::trackError()"),w.call(this)?void(this._playerPlugin&&this._playerPlugin.trackVideoPlayerError(a?a:"unknown_error_id")):void this._logger.error($,"API call trackError is unsupported in the current state.")},e.prototype.trackEvent=function(a,b,c){switch(a){case e.Event.AdBreakStart:case e.Event.AdBreakComplete:f.call(this,a,b);break;case e.Event.AdStart:case e.Event.AdComplete:case e.Event.AdSkip:g.call(this,a,b,c);break;case e.Event.SeekStart:case e.Event.SeekComplete:h.call(this,a);break;case e.Event.ChapterStart:case e.Event.ChapterComplete:case e.Event.ChapterSkip:i.call(this,a,b,c);break;case e.Event.BufferStart:case e.Event.BufferComplete:j.call(this,a);break;case e.Event.BitrateChange:k.call(this);break;case e.Event.TimedMetadataUpdate:l.call(this,b)}},c.plugins.nielsen){var O=c._MediaHeartbeatNielsen;e.MediaObjectKey.NielsenContentMetadata=O.MEDIAHEARTBEAT_NIELSEN_CONTENT_METADATA,e.MediaObjectKey.NielsenAdMetadata=O.MEDIAHEARTBEAT_NIELSEN_AD_METADATA,e.MediaObjectKey.NielsenChannelMetadata=O.MEDIAHEARTBEAT_NIELSEN_CHANNEL_METADATA,e.prototype.nielsenLoadMetadata=function(a){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(a)}}var P=function(){if(!this.appMeasurement||!this.appMeasurement.visitor)throw new Error("appMeasurement.visitor object cannot be NULL.");m.call(this),n.call(this),o.call(this),p.call(this),q.call(this)},Q=1,R=2,S=3,T=4,U=5,V=6,W=7,X=8,Y=9,Z=10;e.createMediaObject=function(a,b,c,d){var f=new B;f.setValue(B.MEDIAINFO_KEY_VIDEOID,b),f.setValue(B.MEDIAINFO_KEY_NAME,a),f.setValue(B.MEDIAINFO_KEY_LENGTH,c),f.setValue(B.MEDIAINFO_KEY_PLAYHEAD,0);var g=A.ASSET_TYPE_VOD;switch(d){case e.StreamType.VOD:g=A.ASSET_TYPE_VOD;break;case e.StreamType.LIVE:g=A.ASSET_TYPE_LIVE;break;case e.StreamType.LINEAR:g=A.ASSET_TYPE_LINEAR}return f.setValue(B.MEDIAINFO_KEY_STREAMTYPE,g),f},e.createAdBreakObject=function(a,b,c){var d=new B;return d.setValue(B.MEDIAINFO_KEY_NAME,a),d.setValue(B.MEDIAINFO_KEY_POSITION,b),d.setValue(B.MEDIAINFO_KEY_STARTUPTIME,c),d},e.createAdObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_NAME,a),e.setValue(B.MEDIAINFO_KEY_ADID,b),e.setValue(B.MEDIAINFO_KEY_POSITION,c),e.setValue(B.MEDIAINFO_KEY_LENGTH,d),e},e.createChapterObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_NAME,a),e.setValue(B.MEDIAINFO_KEY_POSITION,b),e.setValue(B.MEDIAINFO_KEY_LENGTH,c),e.setValue(B.MEDIAINFO_KEY_STARTTIME,d),e},e.createQoSObject=function(a,b,c,d){var e=new B;return e.setValue(B.MEDIAINFO_KEY_BITRATE,a),e.setValue(B.MEDIAINFO_KEY_FPS,c),e.setValue(B.MEDIAINFO_KEY_DROPPEDFRAMES,d),e.setValue(B.MEDIAINFO_KEY_STARTUPTIME,b),e},e.createTimedMetadataObject=function(a){var b=new B;return b.setValue(B.MEDIAINFO_KEY_TIMEDMETADATA,a),b};var $="MediaHeartbeat",_="a.__pttvsdkVersion";c.MediaHeartbeat=e,c.MediaHeartbeatDelegate=d,c.MediaHeartbeat._onDelegateError=r,c.MediaHeartbeat._debugLogging=!1}(a.ADB.core,a.ADB.va),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=core),a.ADB.va||(a.ADB.va=va),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this);\n\n//console.log(\'*** Heartbeat Loaded ***\');',
language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"function initializeHeartbeat(e) {\n\treturn new Heartbeat(e);\n}\n\n  ///////////////////////////////////////////////////////////\n  // Utils\n\tutils = {\n\t  getUrlVars: function () {\n\t\tvar vars = [], hash;\n\t\tvar hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n\n\t\tfor (var i = 0; i < hashes.length; i++) {\n\t\t  hash = hashes[i].split('=');\n\t\t  hash[1] = unescape(hash[1]);\n\t\t  vars.push(hash[0]);\n\t\t  vars[hash[0]] = hash[1];\n\t\t}\n\n\t\treturn vars;\n\t  }\n\t};\n\n\n  ///////////////////////////////////////////////////////////\n  // Logger\n  var Logger = function () {\n\n\tvar urlVars = utils.getUrlVars();\n\tthis._ = {\n\t  enabled: (urlVars['heartbeat-debug'] == 1)\n\t};\n\n  };\n  Logger.prototype = {\n\tisEnabled: function () {\n\t  return this._.enabled;\n\t},\n\t_date: function () {\n\t  var date = new Date();\n\t  var hours = ('0' + date.getHours()).slice(-2);\n\t  var minutes = ('0' + date.getMinutes()).slice(-2);\n\t  var seconds = ('0' + date.getSeconds()).slice(-2);\n\t  var milliseconds = ('00' + date.getMilliseconds()).slice(-3);\n\n\t  return '[' + hours + ':' + minutes + ':' + seconds + '.' + milliseconds + ']';\n\t},\n\tlog: function () {\n\t  if (!this._.enabled) return;\n\n\t  var args = Array.prototype.slice.call(arguments);\n\t  args.unshift(this._date());\n\n\t  console.log.apply(console, args);\n\t}\n  };\n\n  var logger = new Logger();\n\nvar Heartbeat = function(e) {\n\t// logger.log('[Heartbeat]  Initialize', e);\n\t\n\tthis._ = {\n\t\t//ADB\n\t\tMediaHeartbeat         : ADB.va.MediaHeartbeat,\n\t\t\n\t\t// Objects\n\t\tmediaHeartbeat         : null,\n\t\tplayerController       : null,\n\t\tplayerConfig\t\t   : null,\n\t\tanalyticsConfig        : null,\n\t\tvideoMeta              : null,\n\t\tdataLayer              : null,\n\t\tstreamType             : null,\n\t\tduration               : null,\n\t\tisAnalyticsApiEnabled  : false,\t\n\t\tisJwPlayer\t\t\t   : false,\n\t\tisAdBreakStartTrigger  : false,\n\t\t\n\t\t//Properties\n\t\tisTrackingSession \t   : false,\n\t\tisSeekStart            : false,\n\t\tisInitialPlay          : true,\n\t\tpodPosition            : 0,\n\t\t\n\t\t// Callbacks\n\t\tcallbackPlay: this._callbackPlay.bind(this),\n\t\tcallbackEnded: this._callbackEnded.bind(this),\n\t\tcallbackPause: this._callbackPause.bind(this),\n\t\tcallbackSeek: this._callbackSeek.bind(this),\n\t\tcallbackSeeked: this._callbackSeeked.bind(this),\n\t\tcallbackAdsAdSkip: this._callbackAdsAdSkip.bind(this),\n\t\tcallbackAdsPodStarted: this._callbackAdsPodStarted.bind(this),\n\t\tcallbackAdsPodEnded: this._callbackAdsPodEnded.bind(this),\n\t\tcallbackAdsAdStarted: this._callbackAdsAdStarted.bind(this),\n\t\tcallbackAdsAdEnded: this._callbackAdsAdEnded.bind(this)\n\t};\n\n\t// Check detail is defined\n\tif (typeof e.detail == 'undefined') return false;\n\t\n\t// Get Metadatas\n\tthis._.playerController = e.detail.playerController;\n\tthis._.analyticsConfig = this._.playerController.getAnalyticsConfig();\n\tthis._.playerConfig = this._.analyticsConfig.getPlayerConfig();\n\tthis._.videoMeta = this._.analyticsConfig.getVideoMeta();\n\tthis._.dataLayer = this._.analyticsConfig.getDataLayer();\n\tthis._.isAnalyticsApiEnabled = this._.analyticsConfig.isAnalyticsApiEnabled();\n\t\t\t\n\t//Media Heartbeat initialization\n\tvar MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;\n\tvar mediaConfig = new MediaHeartbeatConfig();\n\tmediaConfig.trackingServer = \"discoverydp.hb.omtrdc.net\";\n\tmediaConfig.trackingServerSecure = \"discoverydp.hb.omtrdc.net\";\n\tmediaConfig.playerName = this._.playerConfig.playerName;\n\tif (this._.playerConfig.playerName == 'JWPlayer' || !this._.isAnalyticsApiEnabled) {\n\t\tmediaConfig.channel = this._.playerConfig.channel || \"freevod\";\n\t}\n\telse {\n\t\tmediaConfig.channel = this._.playerConfig.channel;\n\t}\n\tmediaConfig.debugLogging = (this._.playerConfig.env !== 'production' && this._.playerConfig.env !== 'prod');\n\tmediaConfig.appVersion = this._.playerConfig.appVersion;\n\tmediaConfig.ssl = (document.location.protocol === \"https:\");\n\n\t//Media Delegate\n\tvar MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;\n\tvar mediaDelegate = new MediaHeartbeatDelegate();\n\tvar self = this;\n\tmediaDelegate.getCurrentPlaybackTime = function() {\n\t\t\n\t\t// Ad tracking\n\t\tvar currentAdData = self._.playerController.getCurrentAdData();\n\t\tvar isRunningAd = currentAdData != null && currentAdData.currentTime != null && currentAdData.currentTime != -1;\n\t\tif (isRunningAd) { \n\t\t\treturn Number(currentAdData.currentTime);\n\t\t}\n\t\t\n\t\t// Video content tracking\n\t\treturn Number(self._.playerController.getCurrentTime());\n\t};\n\t\n\t// Get the app measurement instance.\n\tvar counter = 0;\n\tvar timer = setInterval(function(){\n\t\tif (counter == 200) {\n\t\t\tclearInterval(timer);\n\t\t}\n\t\telse if(typeof window.s_c_il !== 'undefined' && window.s_c_il[1] != null) {\n\t\t\tcounter++;\n\t\t\tvar appMeasurement = window.s_c_il[1];\n\t\t\tself._.mediaHeartbeat = new self._.MediaHeartbeat(mediaDelegate, mediaConfig, appMeasurement);\t\t\n\t\t\tself.initEvents();\n\t\t\tclearInterval(timer);\t\t\t\n\t\t}\n\t},100)\n\n  // if (appMeasurement != null) {\n    // this._.mediaHeartbeat = new this._.MediaHeartbeat(mediaDelegate, mediaConfig, appMeasurement);\n    // this.initEvents();\n  // }\n};\n\t\nHeartbeat.prototype = {\n\tinitEvents: function() {\n\t\t\n\t\tthis._.playerController.on('play', this._.callbackPlay);\n\t\tthis._.playerController.one('ended',this._.callbackEnded);\n\t\tthis._.playerController.on('pause', this._.callbackPause);\n\t\tthis._.playerController.on('seek', this._.callbackSeek);\n\t\tthis._.playerController.on('seeked', this._.callbackSeeked);\n\t\tthis._.playerController.on('ads-ad-skip', this._.callbackAdsAdSkip);\n\t\tthis._.playerController.on('ads-pod-started', this._.callbackAdsPodStarted);\n\t\tthis._.playerController.on('ads-pod-ended', this._.callbackAdsPodEnded);\n\t\tthis._.playerController.on('ads-ad-started', this._.callbackAdsAdStarted);\n\t\tthis._.playerController.on('ads-ad-ended', this._.callbackAdsAdEnded);\t\t\n\t},\n\t_callbackPlay: function(){\n\t\t// logger.log('[Heartbeat]  Play *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\t//On video play\n\t\tif (!this._.isSeekStart) {\n\t\t\tthis._.mediaHeartbeat.trackPlay();\n\t\t}\t\t\n\t},\t\n\t_callbackEnded: function(){\n\t\t// logger.log('[Heartbeat]  Complete *** for video : ', this._.videoMeta.title, this._);\n\t\tthis._checkSessionStart();\n\t\t\n\t\t//On video complete\n\t\tthis._.mediaHeartbeat.trackComplete();\n\t\tthis._.mediaHeartbeat.trackSessionEnd();\n\t\tthis._.isInitialPlay = true;\n\t\tthis._.isTrackingSession = false;\n\t\t\n\t\tthis._destroyEvents();\n\t},\n\t_callbackPause: function(){\n\t\t// logger.log('[Heartbeat]  Pause *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\t//On video complete\n\t\tif (!this._.isSeekStart) {\n\t\t\tthis._.mediaHeartbeat.trackPause();\n\t\t}\t\t\n\t},\t\n\t_callbackSeek: function(){\n\t\t// logger.log('[Heartbeat]  Seek Start *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\t\n\t\t//On seek start\n\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.SeekStart);\n\t\tthis._.isSeekStart = true;\t\t\n\t},\n\t_callbackSeeked: function(){\n\t\t// logger.log('[Heartbeat]  Seek Complete *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\t//On seek complete\n\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.SeekComplete);\n\t\tthis._.isSeekStart = false;\t\t\n\t},\t\n\t_callbackAdsAdSkip: function(){\n\t\t// logger.log('[Heartbeat] Ad Skip  *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\t// On ad skip \n\t\t//this._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdSkip);\n\t},\n\t_callbackAdsPodStarted: function(){\n\t\t// logger.log('[Heartbeat] Ad Break start *** for video : ', this._.videoMeta.title, this._);\n\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\tvar currentAdData = this._.playerController.getCurrentAdData();\n\t\tif (currentAdData != null) {\t\t\n\t\t\tvar adBreakObject = this._.MediaHeartbeat.createAdBreakObject(currentAdData.type, ++this._.podPosition, 0);\n\t\t\tthis._isAdBreakStartTrigger = true;\n\t\t\t\n\t\t\t// On ad break start \n\t\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdBreakStart, adBreakObject);\n\t\t}\t\t\n},\n\t_callbackAdsPodEnded: function(){\n\t\t// logger.log('[Heartbeat]  Ad Break complete *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\tthis._isAdBreakStartTrigger = false;\n\t\t\n\t\t//On Ad Break complete\n\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdBreakComplete);\t\t\n\t},\t\n\t_callbackAdsAdStarted: function(){\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\tvar currentAdData = this._.playerController.getCurrentAdData();\n\t\tif (currentAdData != null) {\t\n\t\t\tif (!this._isAdBreakStartTrigger) {\n\t\t\t// logger.log('[Heartbeat] Ad Break start *** for video : ', this._.videoMeta.title, this._);\n\t\t\tvar adBreakObject = this._.MediaHeartbeat.createAdBreakObject(currentAdData.type, ++this._.podPosition, 0);\n\t\t\tthis._isAdBreakStartTrigger = true;\n\t\t\t\n\t\t\t// On ad break start \n\t\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdBreakStart, adBreakObject);\n\t\t}\n\t\t\n\t\t// logger.log('[Heartbeat]  Ad start *** for video : ', this._.videoMeta.title, this._);\n\t\t\n\t\t\n\t\t\tvar adObject = this._.MediaHeartbeat.createAdObject(currentAdData.id, currentAdData.id, currentAdData.index, currentAdData.duration);\n\n\t\t\t// Create ad custom meta data\n\t\t\tvar adCustomMetadata = {\n\t\t\t\t\tad_campaign: \"\",\n\t\t\t\t\tad_campaign_id: \"\",\n\t\t\t\t\tad_brand: \"\"\n\t\t\t};\n\t\t\t\n\t\t\t//On Ad start\n\t\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdStart, adObject, adCustomMetadata);\n\t\t\t// logger.log('[Heartbeat]  Ad Play *** for video : ', this._.videoMeta.title, this._);\n\t\t\tthis._.mediaHeartbeat.trackPlay();\n\t\t}\t\t\n\t},\n\t_callbackAdsAdEnded: function(){\n\t\t// logger.log('[Heartbeat]  Ad complete *** video : ', this._.videoMeta.title, this._);\n\t\t\n\t\tthis._checkSessionStart();\n\t\t\n\t\t//On Ad complete\n\t\tthis._.mediaHeartbeat.trackEvent(this._.MediaHeartbeat.Event.AdComplete);\t\t\n\t},\n\t_checkSessionStart: function() {\n\t\tif (this._.isInitialPlay) {\n\t\t\t// logger.log('[Heartbeat]  Session start *** video : ', this._.videoMeta.title, this._);\n\t\t\tif (this._.isTrackingSession) {\n\t\t\t\t// Close previous tracking session\n\t\t\t\tthis._.mediaHeartbeat.trackSessionEnd();\n\t\t\t}\n\t\t\t\n\t\t\tthis._.duration = this._.analyticsConfig.getDuration(); //this._.playerController.getDuration();\n\t\t\tthis._.isJwPlayer = this._.playerConfig.playerName == 'JWPlayer';\n\t\t\t\n\t\t\t// 1. Get media object\n\t\t\tvar mediaObject = this._getMediaObject();\n\t\t\t// logger.log('[Heartbeat]  mediaObject : ', mediaObject);\n\t\t\t\n\t\t\t// 2. Set standard Video Metadata\n\t\t\tvar standardVideoMetadata = this._getStandardVideoMetadata();\n\t\t\t// logger.log('[Heartbeat]  standardVideoMetadata : ', standardVideoMetadata);\n\t\t\tmediaObject.setValue(this._.MediaHeartbeat.MediaObjectKey.StandardVideoMetadata, standardVideoMetadata);\n\t\t\t\n\t\t\t// 3. Get custom Video Metadata\n\t\t\tvar videoCustomMetadata = this._getVideoCustomMetadata();\n\t\t\t// logger.log('[Heartbeat]  videoCustomMetadata : ', videoCustomMetadata);\n\t\t\t\n\t\t\t// On initial video play. \n\t\t\tthis._.mediaHeartbeat.trackSessionStart(mediaObject, videoCustomMetadata);\n\t\t\t\n\t\t\tthis._.isInitialPlay = false;\n\t\t\tthis._.isTrackingSession = true;\t\n\t\t\tthis._.podPosition = 0;\t\n\t\t}\n\t},\n\t_destroyEvents: function() {\n\t\t// logger.log('[Heartbeat]  _destroy *** video : ', this._);\n\t\tthis._.playerController.off('play', this._.callbackPlay);\n\t\tthis._.playerController.off('ended',this._.callbackEnded);\n\t\tthis._.playerController.off('pause', this._.callbackPause);\n\t\tthis._.playerController.off('seek', this._.callbackSeek);\n\t\tthis._.playerController.off('seeked', this._.callbackSeeked);\n\t\tthis._.playerController.off('ads-ad-skip', this._.callbackAdsAdSkip);\n\t\tthis._.playerController.off('ads-pod-started', this._.callbackAdsPodStarted);\n\t\tthis._.playerController.off('ads-pod-ended', this._.callbackAdsPodEnded);\n\t\tthis._.playerController.off('ads-ad-started', this._.callbackAdsAdStarted);\n\t\tthis._.playerController.off('ads-ad-ended', this._.callbackAdsAdEnded);\t\t\t\n\t},\n\t_getMediaObject: function() {\n\t\tif (this._.isJwPlayer || !this._.isAnalyticsApiEnabled) {\n\t\t\tthis._.streamType = this._.playerController.getAnalyticsStreamType();\t\t\t\n\t\t\tvar streamTypeHB = this._.MediaHeartbeat.StreamType.VOD;\n\t\t\tswitch (this._.streamType) {\n\t\t\t\tcase 'linear' :\n\t\t\t\t\tstreamTypeHB = this._.MediaHeartbeat.StreamType.LINEAR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bonus' :\n\t\t\t\t\tstreamTypeHB = this._.MediaHeartbeat.StreamType.LINEAR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'event_live' :\n\t\t\t\t\tstreamTypeHB = this._.MediaHeartbeat.StreamType.LIVE;\n\t\t\t\t\tbreak;\n\t\t\t}\t\t\n\t\t}\n\t\telse {\n\t\t\tvar streamTypeHB = this._.videoMeta.streamType;\n\t\t}\n\t\t\t\t\t\n\t\treturn this._.MediaHeartbeat.createMediaObject(\n\t\t\tthis._.videoMeta.title,\n\t\t\tthis._.videoMeta.equinoxeId,\n\t\t\tthis._.duration,\n\t\t\tstreamTypeHB\n\t\t);\t\n\t\t\n\t},\n\t_getStandardVideoMetadata: function() {\n\t\tvar standardVideoMetadata = {};    \n\t\tif (this._.isJwPlayer || !this._.isAnalyticsApiEnabled) {\n\t\t\tstandardVideoMetadata[this._.MediaHeartbeat.VideoMetadataKeys.NETWORK] = this._.videoMeta.channelName || \"freevod-channel\";\n\t\t}\n\t\telse {\n\t\t\tstandardVideoMetadata[this._.MediaHeartbeat.VideoMetadataKeys.NETWORK] = this._.videoMeta.channelName;\n\t\t}\n\t\t\n\t\treturn standardVideoMetadata;\n\t},\n\t_getVideoCustomMetadata: function() {\n\t\tif (this._.isJwPlayer || !this._.isAnalyticsApiEnabled) {\t\t\t\n\t\t\treturn {\n\t\t\t\tstream_type: this._.streamType,\n\t\t\t\ttransmission_type: this._.videoMeta.transmissionType, \n\t\t\t\tstation_name: this._.videoMeta.stationName || this._.videoMeta.channelName || \"freevod\",\n\t\t\t\tembedded_status: this._.videoMeta.embeddedStatus,\n\t\t\t\tmagazine: this._.videoMeta.magazine,\n\t\t\t\tfamily: this._.videoMeta.sportFamily,\n\t\t\t\tsport: this._.videoMeta.sportName,\n\t\t\t\tcompetition: this._.videoMeta.sportCompetition,\n\t\t\t\tsport_event: this._.videoMeta.sportEvent,\n\t\t\t\tseason: this._.videoMeta.sportSeason,\n\t\t\t\tround: this._.videoMeta.sportRound,\n\t\t\t\tdiscipline: this._.videoMeta.sportDiscipline,\n\t\t\t\tparticipants: this._.videoMeta.sportParticipants,\n\t\t\t\tgender: this._.videoMeta.sportGender,\n\t\t\t\tsport_age_group: this._.videoMeta.ageGroup,\n\t\t\t\t// Not provided by JW Player\n\t\t\t\tprovider: this._.videoMeta.provider,\n\t\t\t\tpartner_code: this._.videoMeta.partnerCode,\n\t\t\t\ttopic: this._.videoMeta.topic\n\t\t\t};\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\treturn {\n\t\t\t\ttransmission_type: this._.videoMeta.transmissionType || '', \n\t\t\t\tembedded_status: this._.videoMeta.embeddedStatus || '',\n\t\t\t\tmagazine: this._.videoMeta.magazine || '',\n\t\t\t\tfamily: this._.videoMeta.sportFamily || '',\n\t\t\t\tsport: this._.videoMeta.sportName || '',\n\t\t\t\tcompetition: this._.videoMeta.sportCompetition || '',\n\t\t\t\tsport_event: this._.videoMeta.sportEvent || '',\n\t\t\t\tseason: this._.videoMeta.sportSeason || '',\n\t\t\t\tround: this._.videoMeta.sportRound || '',\n\t\t\t\tdiscipline: this._.videoMeta.sportDiscipline || '',\n\t\t\t\tparticipants: this._.videoMeta.sportParticipants || '',\n\t\t\t\tgender: this._.videoMeta.sportGender || '',\n\t\t\t\toffer_type: this._.videoMeta.offerType || '',\n\t\t\t\tprovider: this._.videoMeta.provider || '',\n\t\t\t\tpartner_code: this._.dataLayer.partner_code || '',\n\t\t\t\tsection: this._.dataLayer.service || '',\n\t\t\t\tproduct: this._.dataLayer.product || '',\n\t\t\t\tsite: this._.dataLayer.site || '',\n\t\t\t\tenvironment: this._.dataLayer.environment || '',\n\t\t\t\tlanguage_name : this._.dataLayer.language_name || '',\n\t\t\t\tlanguage_id: this._.dataLayer.language_id || '',\n\t\t\t\tuser_id: this._.dataLayer.user_id || '',\n\t\t\t\tlogin_status: this._.dataLayer.login_status || '',\n\t\t\t\tprofile: this._.dataLayer.profile || '',\n\t\t\t\tcontent_id: this._.dataLayer.content_id || '',\n\t\t\t\tperimeter: this._.dataLayer.perimeter || ''\n\t\t\t};\t\t\t\t\n\t\t}\n\t\t\n\t}\n};\n\nwindow.addEventListener('esv-loaded',  initializeHeartbeat );\n\nfunction initCustomEvent() {\n\tif ( typeof window.CustomEvent === \"function\" ) return false; //If not IE\n\n\tfunction CustomEvent ( event, params ) {\n\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\tvar evt = document.createEvent( 'CustomEvent' );\n\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\twindow.CustomEvent = CustomEvent;\t\n}\n\n// NEW WAY TO MANAGE HEARTBEAT EVENTS IN AN EXTERNAL FILE\n// DISPATCH EVENT 'heartbeat-loaded'\nvar count = 0;\nvar timer = setInterval(function(){\n  if (count == 200) {\n    clearInterval(timer);\n  }\n  else if(typeof window.s_c_il !== 'undefined' && window.s_c_il[1] != null) {\n    count++;\n\t\n\t// Polyfill IE for CustomEvent\n\tinitCustomEvent();\n\t\n    // Get native javascript object because the listener is set up before jquery is initialized\n    var event = new CustomEvent('heartbeat-loaded', { 'detail': {}});\n    //distribuer l'\xe9v\xe9nement.\n    window.dispatchEvent(event);\n    clearInterval(timer);\t\t\t\n  }\n},100)",language:"javascript"}}]},{id:"RLb176aa4dc11044df8d2b3ec6c3f9266e",name:"content: video impression",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%custom code - page video: number of videos%",rightOperand:"^[1-9]\\d*$"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){void 0!==t&&(t.list1=_satellite.getVar("custom code - video impression: video name"),t.list2=_satellite.getVar("js - video impression: video id"))}},trackerProperties:{events:[{name:"event115"}]}}}]},{id:"RL1e85cbbe7f9841679727237a5ac541f2",name:"event: sign in",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"sign-in"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar63",type:"value",value:"%js - user: user id%"}],events:[{name:"event111"}],server:"%custom code - content: domain name%",channel:"%custom code - content: domain name%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"sign-in",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLcabb69ec96ad44e6a0c63f5ea601f512",name:"event: registration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"registration"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{events:[{name:"event112"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"registration",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL4c2b75206fa54169a7bfe6c8a32e9f16",name:"AA:Video ad skip",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"vod:skip-ad"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"vod:skip-ad"}],props:[{name:"prop6",type:"value",value:"vod:skip-ad"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"video skip ad",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL4b93a1522b4e4a72a165c3363d88b65f",name:"tag: chartbeat body",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=["eurosport.fr","rugbyrama.fr","eurosport.de","it.eurosport.com","eurosport.ru","eurosport.es","eurosport.co.uk","eurosport.com","eurosport.ro"],t=["home","home_video","sport","vod-list","story","video","match","slideshow","calendar_result","live_event","author","standing"];if(window.dataLayer&&0<window.dataLayer.length){var a=window.dataLayer[0]||{},n=a.tracking_source||"";if(e.includes(n)){var r=a.page_type||"";if(t.includes(r))return!0}}return!1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script type=\"text/javascript\">\n  (function() {\n    \n      function loadChartbeat() {\n          var e = document.createElement('script');\n          var n = document.getElementsByTagName('script')[0];\n          e.type = 'text/javascript';\n          e.async = true;\n          e.src = '//static.chartbeat.com/js/chartbeat_video.js';\n          n.parentNode.insertBefore(e, n);\n      }\n    \n      /** CONFIGURATION START **/\n      var _sf_async_config = window._sf_async_config = (window._sf_async_config || {});\n    \n      if (window.dataLayer && window.dataLayer.length > 0) {\n        var datalayerEurosport = window.dataLayer[0] || {};\n        var domain = datalayerEurosport.tracking_source || '';\n        var family = datalayerEurosport.family || '';\n        var sport = datalayerEurosport.sport || '';\n\n        var sections = [family, sport].filter(function (section) {\n                  return section !== '';\n                  }).join(',');\n\n        _sf_async_config.sections = sections;\n        _sf_async_config.authors = '';\n        /** CONFIGURATION END **/\n        loadChartbeat();\n      }\n   })();\n</script>",language:"html"}}]},{id:"RL0cb36799dd284eb998426e79080799ac",name:"event: app download banner impression",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"#storyfull__app-baner"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar4",type:"value",value:"app-download-banner-impression"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"app download banner impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL3f5612bec2ba40289343ced9e86d51ce",name:"event: stubhub tracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.stubhub__link",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar4",type:"value",value:"stubhub-ticket-box"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stubhub link",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLdb97af1fc8e74cab9c189f72427e5e93",name:"comscore panel tag: all pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!-- Begin comScore Tag -->\n<script>\n  var _comscore = _comscore || [];\n  _comscore.push({ c1: "2", c2: "6035180" });\n  (function() {\n    var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true;\n    s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";\n    el.parentNode.insertBefore(s, el);\n  })();\n</script>\n<noscript>\n  <img src="https://sb.scorecardresearch.com/p?c1=2&c2=6035180&cv=2.0&cj=1" />\n</noscript>\n<!-- End comScore Tag -->',language:"html"}}]},{id:"RL958d9f234535402cbd3ffb17384b15ed",name:"event: social interaction",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-aa-socialinteraction]",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("social: interaction detail",this.getAttribute("data-aa-socialinteraction")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar41",type:"value",value:"%js - content: content id%"},{name:"eVar42",type:"value",value:"%js - content: partner name%"},{name:"eVar47",type:"value",value:"%js - content: content title%"},{name:"eVar48",type:"value",value:"%js - content: content author%"},{name:"eVar49",type:"value",value:"%js - content: content topic%"},{name:"eVar50",type:"value",value:"%js - content: content is opinion%"},{name:"eVar74",type:"value",value:"%js - content: sport family%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar77",type:"value",value:"%js - content: sport event%"},{name:"eVar78",type:"value",value:"%js - content: sport season%"},{name:"eVar79",type:"value",value:"%js - content: sport round%"},{name:"eVar80",type:"value",value:"%js - content: sport discipline%"},{name:"eVar81",type:"value",value:"%js - content: sport participants%"},{name:"eVar83",type:"value",value:"%js - content: sport gender%"},{name:"eVar73",type:"value",value:"%social: interaction detail%"}],events:[{name:"event113"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"social interaction",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9d4c4177719d4980ab07925c873e493b",name:"event: link tracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-aa-linktracking]",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("linktracking: link detail",this.getAttribute("data-aa-linktracking")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar4",type:"value",value:"%linktracking: link detail%"},{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"}],props:[{name:"prop6",type:"value",value:"%linktracking: link detail%"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%custom code - content: domain name%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"link tracking",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL1febd550634d46318a0d8d01d2f7bbfc",name:"event: app download banner click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#storyfull__app-baner",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{
name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar4",type:"value",value:"app-download-banner-click"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"app download banner link",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL97380bbe8f954f4fbda3352169f8fc10",name:"tag: chartbeat head",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["eurosport.co.uk","eurosport.com","eurosport.fr","eurosport.de","eurosport.es","eurosport.it","eurosport.ru","rugbyrama.fr","eurosport.ro"]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script type=\"text/javascript\">\n  var locationHref = window.location.href;\n  var domain = '';\n  if (locationHref.indexOf('eurosport.fr') > -1) domain = 'eurosport.fr';\n  else if (locationHref.indexOf('rugbyrama.fr') > -1) domain = 'rugbyrama.fr';\n  else if (locationHref.indexOf('eurosport.co.uk') > -1) domain = 'eurosport.co.uk';\n  else if (locationHref.indexOf('it.eurosport.com') > -1) domain = 'it.eurosport.com';\n  else if (locationHref.indexOf('eurosport.com') > -1) domain = 'eurosport.com';\n  else if (locationHref.indexOf('eurosport.es') > -1) domain = 'eurosport.es';\n  else if (locationHref.indexOf('eurosport.ru') > -1) domain = 'eurosport.ru';\n  else if (locationHref.indexOf('eurosport.de') > -1) domain = 'eurosport.de';\n  else if (locationHref.indexOf('eurosport.ro') > -1) domain = 'eurosport.ro';\n  var _sf_async_config = _sf_async_config || {};\n  /** CONFIGURATION START **/\n  _sf_async_config.uid = 65899;\n  _sf_async_config.domain = domain;\n  _sf_async_config.flickerControl = false;\n  _sf_async_config.useCanonical = true;\n  _sf_async_config.useCanonicalDomain = true;\n  /** CONFIGURATION END **/\n</script>\n<script async src=\"//static.chartbeat.com/js/chartbeat_mab.js\"></script>",language:"html"}}]},{id:"RLfe03c78dc5594680bfef2018bc357c8a",name:"event:  UK - see also click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".hidden-see-also-before-last-paragraph",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar4",type:"value",value:"see-also-uk-click"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"uk see also link",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLfff99c314ba5402f8e6534a2f8e4a4f5",name:"event:  UK - same topic click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".hidden-related-stories__list",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar4",type:"value",value:"same-topic-uk-click"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"uk same topic link",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9dc6698586ad48afbfd034f46f8d2d8b",name:"content: story and video",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%js - content: page type%",rightOperand:"^(video|story|promo-event|help)$"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar41",type:"value",value:"%js - content: content id%"},{name:"eVar42",type:"value",value:"%js - content: partner name%"},{name:"eVar47",type:"value",value:"%js - content: content title%"},{name:"eVar48",type:"value",value:"%js - content: content author%"},{name:"eVar49",type:"value",value:"%js - content: content topic%"},{name:"eVar50",type:"value",value:"%js - content: content is opinion%"}],props:[{name:"prop44",type:"alias",value:"eVar42"},{name:"prop45",type:"value",value:"%js - content: partner id%"},{name:"prop47",type:"alias",value:"eVar47"},{name:"prop48",type:"alias",value:"eVar48"},{name:"prop49",type:"alias",value:"eVar49"},{name:"prop50",type:"alias",value:"eVar50"},{name:"prop51",type:"alias",value:"eVar41"},{name:"prop52",type:"value",value:"%js - content: content publication time%"},{name:"prop53",type:"value",value:"%js - content: content publication date%"}]}}}]},{id:"RLc760a78396ea485fba0dae80c17837ba",name:"content: all pages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=window.location.hostname;"arabia.eurosport.com"==a||"eg.eurosport.com"==a||"sa.eurosport.com"==a?t.pageName="news:arabia":0<=a.indexOf("promo-")&&0<=a.indexOf("eurosportplayer")&&(t.pageName="player:promo-pages",console.log(t.pageName))}},trackerProperties:{eVars:[{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar74",type:"value",value:"%js - content: sport family%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar77",type:"value",value:"%js - content: sport event%"},{name:"eVar78",type:"value",value:"%js - content: sport season%"},{name:"eVar79",type:"value",value:"%js - content: sport round%"},{name:"eVar80",type:"value",value:"%js - content: sport discipline%"},{name:"eVar81",type:"value",value:"%js - content: sport participants%"},{name:"eVar83",type:"value",value:"%js - content: sport gender%"},{name:"eVar99",type:"value",value:"%js - site: site environment%"},{name:"eVar58",type:"value",value:"%custom code - content: domain name%"},{name:"eVar59",type:"value",value:"%js - content: perimeter%"},{name:"eVar61",type:"value",value:"%js - site: site language id%"},{name:"eVar60",type:"value",value:"%js - site: site language name%"},{name:"eVar42",type:"value",value:"%js - content: partner name%"},{name:"eVar5",type:"value",value:"%js - user: user login status%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar62",type:"value",value:"%js - content: mobile page format%"}],props:[{name:"prop7",type:"alias",value:"eVar68"},{name:"prop5",type:"alias",value:"eVar54"},{name:"prop54",type:"alias",value:"eVar74"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop57",type:"alias",value:"eVar77"},{name:"prop58",type:"alias",value:"eVar78"},{name:"prop59",type:"alias",value:"eVar79"},{name:"prop60",type:"alias",value:"eVar80"},{name:"prop61",type:"alias",value:"eVar81"},{name:"prop63",type:"alias",value:"eVar83"},{name:"prop64",type:"alias",value:"eVar53"},{name:"prop41",type:"alias",value:"eVar59"},{name:"prop9",type:"alias",value:"eVar61"},{name:"prop42",type:"alias",value:"eVar60"},{name:"prop44",type:"alias",value:"eVar42"},{name:"prop46",type:"alias",value:"eVar62"}],events:[{name:"event1"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",campaign:{type:"queryParam",value:"ns_campaign"},pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL64b4f66004eb4337aaf3d33c1d1160c6",name:"site: news site",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%js - content: platform product name%",rightOperand:"news"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar63",type:"value",value:"%js - user: user id%"},{name:"eVar64",type:"value",value:"%js - user: user login status%"}]}}}]},{id:"RLefac3c79bbe645a5a99560fba556706e",name:"event: stubhub impression",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{elementSelector:"div .stubhub-ticket-box"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar4",type:"value",value:"stubhub-ticket-box-impression"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stubhub impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc0b2ed81e989455bad97666066c850a3",name:"event: live to watch tracking",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-aa-livetowatch]",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("player: live to watch",this.getAttribute("data-aa-livetowatch")),!0}}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar4",type:"value",value:"%player: live to watch%"},{name:"eVar41",type:"value",value:"%js - content: content id%"},{name:"eVar42",type:"value",value:"%js - content: partner name%"},{name:"eVar47",type:"value",value:"%js - content: content title%"},{name:"eVar48",type:"value",value:"%js - content: content author%"},{name:"eVar49",type:"value",value:"%js - content: content topic%"},{name:"eVar74",type:"value",value:"%js - content: sport family%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"},{name:"eVar77",type:"value",value:"%js - content: sport event%"},{name:"eVar78",type:"value",value:"%js - content: sport season%"},{name:"eVar79",type:"value",value:"%js - content: sport round%"},{name:"eVar80",type:"value",value:"%js - content: sport discipline%"},{name:"eVar81",type:"value",value:"%js - content: sport participants%"},{name:"eVar83",type:"value",value:"%js - content: sport gender%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar59",type:"value",value:"%js - content: perimeter%"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar54"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop54",type:"alias",value:"eVar74"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop57",type:"alias",value:"eVar77"},{name:"prop41",type:"alias",value:"eVar59"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"live to watch",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8df85b65cc9e4470aa909cbc963e9410",name:"event:  UK - see also impression",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".hidden-see-also-before-last-paragraph"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar4",type:"value",value:"see-also-uk-impression"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"see also uk impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLcb9eb7f1428f4688a001070a72a721c8",name:"event:  UK - same topic impression",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:".hidden-related-stories__list"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",prop4,eVar2,eVar22,eVar55,eVar58",t.eVar2=t.prop4="D=g",t.eVar22="D=mid",t.eVar55="D=ch",t.eVar58="D=server"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%js - content: page name%"},{name:"eVar4",type:"value",value:"same-topic-uk-impression"},{name:"eVar41",type:"value",value:"%js - content: perimeter%"},{name:"eVar53",type:"value",value:"%js - content: platform product name%"},{name:"eVar54",type:"value",value:"%js - content: page type%"},{name:"eVar68",type:"value",value:"%js - site: site name%"},{name:"eVar75",type:"value",value:"%js - content: sport name%"},{name:"eVar76",type:"value",value:"%js - content: sport competition%"}],props:[{name:"prop6",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar68"},{name:"prop55",type:"alias",value:"eVar75"},{name:"prop56",type:"alias",value:"eVar76"},{name:"prop59",type:"alias",value:"eVar41"}],events:[{name:"event2"}],server:"%custom code - content: domain name%",channel:"%js - content: service%",pageName:"%js - content: page name%"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"same topic uk impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL7c12d0ceb0b5469ea0814960dcf86fe7",name:"mkg: WW-Facebook-Undefined-ALL-PageView-AllPages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/479fbb05b9cf/852ab8725ddc/0ac2448fd220/RC7a029f8ade6f489887f61617c9257ff4-source.min.js",language:"html",isExternal:!0}}]},{id:"RLc159eea3390a46578fccb1c935d41e31",name:"mkg: WW-Facebook-Undefined-ALL-PageView-SomePages",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%js - content: sport name%",rightOperand:"^$"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/479fbb05b9cf/852ab8725ddc/0ac2448fd220/RC94f2d36773d349149987177031aec195-source.min.js",language:"html",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(t){var a=this.constructor;return this.then(function(e){return a.resolve(t()).then(function(){return e})},function(e){return a.resolve(t()).then(function(){return a.reject(e)})})}function l(e){return Boolean(e&&"undefined"!=typeof e.length)}function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(a){return void c(r.promise,a)}s(r.promise,t)}else(1===n._state?s:c)(r.promise,n._value)})):n._deferreds.push(r)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var a=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof a)return void p(r(a,t),e)}e._state=1,e._value=t,u(e)}catch(n){c(e,n)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,a=e._deferreds.length;t<a;t++)o(e,e._deferreds[t]);e._deferreds=null}function d(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function p(e,t){var a=!1;try{e(function(e){a||(a=!0,s(t,e))},function(e){a||(a=!0,c(t,e))})}catch(n){if(a)return;a=!0,c(t,n)}}function h(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}if(window.atob){var f={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},m="\ud83d\ude80",_=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":m,b=!1,v=function(e){if(b&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(_),e!==f.DEBUG||window.console[e]||(e=f.INFO),window.console[e].apply(window.console,t)}},y=v.bind(null,f.LOG),E=v.bind(null,f.INFO),k=v.bind(null,f.DEBUG),I=v.bind(null,f.WARN),A=v.bind(null,f.ERROR),D={log:y,info:E,debug:k,warn:I,error:A,get outputEnabled(){return b},set outputEnabled(e){b=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:y.bind(null,t),info:E.bind(null,t),debug:k.bind(null,t),warn:I.bind(null,t),error:A.bind(null,t)}}},T=function(r,i,o){var a,n,s,c,l=[],u=function(e,t,a){if(!r(t))return e;l.push(t);var n=i(t,a);return l.pop(),null==n&&o?"":n};return a=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?u(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return u(e,t,a)})},n=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];a[i]=c(o,t)}return a},s=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(c(e[n],t));return a},c=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?s(e,t):"object"==typeof e&&null!==e?n(e,t):e},function(e,t){return 10<l.length?(D.error("Data element circular reference detected: "+l.join(" -> ")),e):c(e,t)}},S=function(r){return function(e,t){if("string"==typeof e)r[arguments[0]]=t;else if(arguments[0]){var a=arguments[0];for(var n in a)r[n]=a[n]}}},w=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},C=e(function(n){!function(e){if("function"==typeof undefined&&undefined.amd&&(undefined(e),!0),n.exports=e(),!!0){var t=window.Cookies,a=window.Cookies=e();a.noConflict=function(){return window.Cookies=t,a}}}(function(){function m(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function e(f){function g(e,t,a){var n;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(a=m({path:"/"},g.defaults,a)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*a.expires),a.expires=r}a.expires=a.expires?a.expires.toUTCString():"";try{n=JSON.stringify(t),/^[\{\[]/.test(n)&&(t=n)}catch(h){}t=f.write?f.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i="";for(var o in a)a[o]&&(i+="; "+o,!0!==a[o]&&(i+="="+a[o]));return document.cookie=e+"="+t+i}e||(n={});for(var s=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<s.length;l++){var u=s[l].split("="),d=u.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=u[0].replace(c,decodeURIComponent);if(d=f.read?f.read(d,p):f(d,p)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(h){}if(e===p){n=d;break}e||(n[p]=d)}catch(h){}}return n}}return(g.set=g).get=function(e){return g.call(g,e)},g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))},g.defaults={},g.remove=function(e,t){g(e,"",m(t,{expires:-1}))},g.withConverter=e,g}return e(function(){})})}),P={get:C.get,set:C.set,remove:C.remove},M=window,V="com.adobe.reactor.",N=function(n,e){var r=V+(e||"");return{getItem:function(e){try{return M[n].getItem(r+e)}catch(t){return null}},setItem:function(e,t){try{return M[n].setItem(r+e,t),!0}catch(a){return!1}}}},O="_sdsat_",j="dataElements.",L="dataElementCookiesMigrated",R=N("localStorage"),x=N("sessionStorage",j),F=N("localStorage",j),B={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},H={},U=function(e){var t;try{t=JSON.stringify(e)}catch(a){}return t},q=function(e,t,a){var n;switch(t){case B.PAGEVIEW:return void(H[e]=a);case B.SESSION:return void((n=U(a))&&x.setItem(e,n));case B.VISITOR:return void((n=U(a))&&F.setItem(e,n))}},Y=function(e,t){var a=P.get(O+e);a!==undefined&&q(e,t,a)},K={setValue:q,getValue:function(e,t){var a;switch(t){case B.PAGEVIEW:return H.hasOwnProperty(e)?H[e]:null;case B.SESSION:return null===(a=x.getItem(e))?a:JSON.parse(a);case B.VISITOR:return null===(a=F.getItem(e))?a:JSON.parse(a)}},migrateCookieData:function(t){R.getItem(L)||(Object.keys(t).forEach(function(e){Y(e,t[e].storageDuration)}),R.setItem(L,!0))}},z=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},G=function(e){return e!==undefined&&null!==e},W=function(s,c,l,u){return function(e,t){var a=c(e);if(!a)return u?"":null;var n,r=a.storageDuration;try{n=s.getModuleExports(a.modulePath)}catch(o){return void D.error(z(a,e,o.message,o.stack))}if("function"==typeof n){var i;try{i=n(l(a.settings,t),t)}catch(o){return void D.error(z(a,e,o.message,o.stack))}return r&&(G(i)?K.setValue(e,r,i):i=K.getValue(e,r)),G(i)||(i=a.defaultValue||""),"string"==typeof i&&(a.cleanText&&(i=w(i)),a.forceLowerCase&&(i=i.toLowerCase())),i}D.error(z(a,e,"Module did not export a function."))}},$=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},Q=function(){var o={},a=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},e=function(){Object.keys(o).forEach(function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");D.error(t)}})},n=function(e){var t=a(e);return t.hasOwnProperty("exports")||(t.exports=$(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,a,n,r){var i={definition:t,extensionName:a,require:n,turbine:r};i.require=n,o[e]=i},hydrateCache:e,getModuleExports:n,getModuleDefinition:function(e){return a(e).definition},getModuleExtensionName:function(e){return a(e).extensionName}}},J=function(a,n){return function(e){var t=e.split(".")[0];return Boolean(n(e)||"this"===t||"event"===t||"target"===t||a.hasOwnProperty(t))}},X={text:function(e){return e.textContent},cleanText:function(e){return w(e.textContent)}},Z=function(e,t,a){for(var n,r=e,i=0,o=t.length;i<o;i++){if(null==r)return undefined;var s=t[i];if(a&&"@"===s.charAt(0)){var c=s.slice(1);r=X[c](r)}else if(r.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var l=n[1];r=r.getAttribute(l)}else r=r[s]}return r},ee=function(i,o,s){return function(e,t){var a;if(o(e))a=s(e,t);else{var n=e.split("."),r=n.shift();"this"===r?t&&(a=Z(t.element,n,!0)):"event"===r?t&&(a=Z(t,n)):"target"===r?t&&(a=Z(t.target,n)):a=Z(i[r],n)}return a}},te=function(c,l){return function(e,t){var a=c[e];if(a){var n=a.modules;if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i],s=n[o];if(s.shared&&s.name===t)return l.getModuleExports(o)}}}},ae=function(e,t){return function(){return t?e(t):{}}},ne=function(a,n){return function(e){if(n){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return a+e}},re=".js",ie=function(e){return e.substr(0,e.lastIndexOf("/"))},oe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},se=function(e,t){oe(t,re)||(t+=re);var a=t.split("/"),n=ie(e).split("/");return a.forEach(function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))}),n.join("/")},ce=document,le=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var a=new this.constructor(n);return o(this,new d(e,t,a)),a},i.prototype["finally"]=t,i.all=function(t){return new i(function(r,i){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if("function"==typeof a)return void a.call(e,function(e){o(t,e)},i)}s[t]=e,0==--c&&r(s)}catch(n){i(n)}}if(!l(t))return i(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return r([]);for(var c=s.length,e=0;e<s.length;e++)o(e,s[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(a){return new i(function(e,t){t(a)})},i.race=function(r){return new i(function(e,t){if(!l(r))return t(new TypeError("Promise.race accepts an array"));for(var a=0,n=r.length;a<n;a++)i.resolve(r[a]).then(e,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){le(e,0)},i._unhandledRejectionFn=function nt(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ue=Object.freeze({"default":i}),de=ue&&i||ue,pe=window.Promise||de["default"]||de,he=function(a,n){return new pe(function(e,t){n.onload=function(){e(n)},n.onerror=function(){t(new Error("Failed to load script "+a))}})},fe=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=he(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},ge=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,be=a()?Object.assign:function(e){for(var t,a,n=h(e),r=1;r<arguments.length;r++){for(var i in t=Object(arguments[r]))me.call(t,i)&&(n[i]=t[i]);if(ge){a=ge(t);for(var o=0;o<a.length;o++)_e.call(t,a[o])&&(n[a[o]]=t[a[o]])}}return n},ve=function(e,t,a,n){t=t||"&",a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;0<o&&o<s&&(s=o);for(var c=0;c<s;++c){var l,u,d,p,h=e[c].replace(i,"%20"),f=h.indexOf(a);0<=f?(l=h.substr(0,f),u=h.substr(f+1)):(l=h,u=""),d=decodeURIComponent(l),p=decodeURIComponent(u),g(r,d)?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r},ye=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Ee=function(a,n,r,e){return n=n||"&",r=r||"=",null===a&&(a=undefined),"object"==typeof a?Object.keys(a).map(function(e){var t=encodeURIComponent(ye(e))+r;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(ye(e))}).join(n):t+encodeURIComponent(ye(a[e]))}).join(n):e?encodeURIComponent(ye(e))+r+encodeURIComponent(ye(a)):""},ke=e(function(e,t){t.decode=t.parse=ve,t.encode=t.stringify=Ee}),Ie="@adobe/reactor-",Ae={cookie:P,document:ce,"load-script":fe,"object-assign":be,promise:pe,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),ke.parse(e)},stringify:function(e){return ke.stringify(e)}},window:M},De=function(n){return function(e){if(0===e.indexOf(Ie
)){var t=e.substr(Ie.length),a=Ae[t];if(a)return a}if(0===e.indexOf("./")||0===e.indexOf("../"))return n(e);throw new Error('Cannot resolve module "'+e+'".')}},Te=function(e,o,s,c){var l=e.extensions,u=e.buildInfo,d=e.property.settings;if(l){var p=te(l,o);Object.keys(l).forEach(function(n){var r=l[n],e=ae(s,r.settings);if(r.modules){var t=D.createPrefixedLogger(r.displayName),a=ne(r.hostedLibFilesBaseUrl,u.minified),i={buildInfo:u,getDataElementValue:c,getExtensionSettings:e,getHostedLibFileUrl:a,getSharedModule:p,logger:t,propertySettings:d,replaceTokens:s};Object.keys(r.modules).forEach(function(a){var e=r.modules[a],t=De(function(e){var t=se(a,e);return o.getModuleExports(t)});o.registerModule(a,e,n,t,i)})}}),o.hydrateCache()}return o},Se=function(e,t,a,n,r){var i=D.createPrefixedLogger("Custom Script");e.track=function(e){D.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name},e.company=t.company,e.buildInfo=t.buildInfo,e.logger=i,e.notify=function(e,t){switch(D.warn("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";D.warn(i),P.set(e,t,r)},e.readCookie=function(e){return D.warn('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),P.get(e)},e.removeCookie=function(e){D.warn('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),P.remove(e)},e.cookie=P,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(D.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},we=function(e,t){return be(t=t||{},e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return D.warn("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ce=function(e){var a=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){a.push({rule:t,event:e})})}),a.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},Pe=!1,Me=function(n){return function(t,a){var e=n._monitors;e&&(Pe||(D.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),Pe=!0),e.forEach(function(e){e[t]&&e[t](a)}))}},Ve="Module did not export a function.",Ne=function(i,o){return function(e,t,a){a=a||[];var n=i.getModuleExports(e.modulePath);if("function"!=typeof n)throw new Error(Ve);var r=o(e.settings||{},t);return n.bind(null,r).apply(null,a)}},Oe=N("localStorage"),je=N("sessionStorage"),Le=function(){return Boolean(Oe.getItem("queue")||je.getItem("queue"))},Re=2e3,xe=!1,Fe=function(){xe||(xe=!0,D.warn("Rule queueing is only intended for testing purposes. Queueing behavior may be changed or removed at any time."))},Be=function(e,t,s,a){var i=pe.resolve(),c=Me(e),l=Ne(s,a),r=function(e){var t=s.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath},u=function(e,t,a,n){return"Failed to execute "+r(e)+" for "+t.name+" rule. "+a+(n?"\n"+n:"")},o=function(e,t,a){D.error(u(e,t,a.message,a.stack)),c("ruleActionFailed",{rule:t,action:e})},d=function(e,t,a){D.error(u(e,t,a.message,a.stack)),c("ruleConditionFailed",{rule:t,condition:e})},p=function(e,t){var a=r(e);D.log("Condition "+a+" for rule "+t.name+" not met."),c("ruleConditionFailed",{rule:t,condition:e})},h=function(e){D.log('Rule "'+e.name+'" fired.'),c("ruleCompleted",{rule:e})},f=function(e){return e||(e=new Error("The extension triggered an error, but no error information was provided.")),e instanceof Error||(e=new Error(String(e))),e},g=function(e,t){return t&&!e.negate||!t&&e.negate},m=function(t,r){t.conditions&&t.conditions.forEach(function(n){i=i.then(function(){var a;return new pe(function(e,t){a=setTimeout(function(){t("A timeout occurred because the condition took longer than "+Re/1e3+" seconds to complete. ")},Re),pe.resolve(l(n,r,[r])).then(e,t)})["catch"](function(e){return clearTimeout(a),e=f(e,n),d(n,t,e),pe.reject(e)}).then(function(e){if(clearTimeout(a),!g(n,e))return p(n,t),pe.reject()})})}),t.actions&&t.actions.forEach(function(n){i=i.then(function(){var a;return new pe(function(e,t){a=setTimeout(function(){t("A timeout occurred because the action took longer than "+Re/1e3+" seconds to complete. ")},Re),pe.resolve(l(n,r,[r])).then(e,t)}).then(function(){clearTimeout(a)})["catch"](function(e){return clearTimeout(a),e=f(e),o(n,t,e),pe.reject(e)})})}),i=(i=i.then(function(){h(t)}))["catch"](function(){})},_=function(e,t){var a;if(e.conditions)for(var n=0;n<e.conditions.length;n++){a=e.conditions[n];try{var r=l(a,t,[t]);if(!g(a,r))return void p(a,e)}catch(i){return void d(a,e,i)}}b(e,t)},b=function(e,t){var a;if(e.actions)for(var n=0;n<e.actions.length;n++){a=e.actions[n];try{l(a,t,[t])}catch(r){return void o(a,e,r)}}h(e)},v=!1,y=[],n=function(e){var t,a=e.rule,n=e.event;n.settings=n.settings||{};try{t=s.getModuleDefinition(n.modulePath).name;var r={$type:s.getModuleExtensionName(n.modulePath)+"."+t,$rule:{id:a.id,name:a.name}},i=function(e){if(v){c("ruleTriggered",{rule:a});var t=we(r,e);Le()?(Fe(),m(a,t)):_(a,t)}else y.push(i.bind(null,e))};l(n,null,[i])}catch(o){D.error(u(n,a,o.message,o.stack))}};return Ce(t).forEach(n),v=!0,y.forEach(function(e){e()}),y=null,i},He="debug",Ue=window._satellite;if(Ue&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var qe=Ue.container;delete Ue.container;var Ye=qe.property.settings.undefinedVarsReturnEmpty,Ke=qe.dataElements||{};K.migrateCookieData(Ke);var ze,Ge=function(e){return Ke[e]},We=Q(),$e=W(We,Ge,function(){return ze.apply(null,arguments)},Ye),Qe={},Je=S(Qe),Xe=J(Qe,Ge),Ze=ee(Qe,Ge,$e);ze=T(Xe,Ze,Ye);var et=N("localStorage"),tt=function(){return"true"===et.getItem(He)},at=function(e){et.setItem(He,e),D.outputEnabled=e};D.outputEnabled=tt(),Se(Ue,qe,at,Ze,Je),Te(qe,We,ze,$e),Be(Ue,qe.rules||[],We,ze)}return Ue}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();